function throttle(b,c){var a=null;return function(){var d=this,e=arguments;a||(a=setTimeout(function(){b.apply(d,e),a=null},c))}}(function(){function b(){return localStorage.getItem('theme')?localStorage.getItem('theme'):null}function c(a){document.documentElement.setAttribute('data-theme',a),localStorage.setItem('theme',a)}function d(d){var a=b();c(a=='light'?'dark':'light')}(function(){var a=b();const d=window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches;a===null?c(d?'dark':'light'):document.documentElement.setAttribute('data-theme',a=='light'?'light':'dark')})();var a=null;window.addEventListener('DOMContentLoaded',b=>{a=document.querySelectorAll('#switch_btn'),!!a&&a.forEach(a=>{a.addEventListener('click',d)})},{once:!0})})(),function(){var d,b,c,a,e;function f(a){!!d&&!!b&&!!c&&(a.target==b||a.target==c)&&(d.classList.toggle('show'),b.classList.toggle('show'),e.focus(),a.stopPropagation())}d=null,b=null,c=null,a=null,e=null,window.addEventListener('DOMContentLoaded',g=>{d=document.querySelector('.search-container'),c=document.querySelector('#search_btn'),b=document.querySelector('#cover'),a=document.querySelector('#loading'),e=document.querySelector('.search-input'),!!c&&c.addEventListener('click',f),!!b&&b.addEventListener('click',f),docsearch({apiKey:'f7f9aeb8485880cfd0e747129ea4ddf9',indexName:'blogsearch',appId:'SGIZDO9IMB',inputSelector:'.docsearch-input',debug:!0,algoliaOptions:{hitsPerPage:50},queryHook:b=>{a.innerHTML='查询中',a.classList.add('show')},transformData:b=>{b instanceof Array&&b.length>0?(a.innerHTML='',a.classList.remove('show')):(a.innerHTML='无结果',a.classList.add('show'))}})},{once:!0})}(),function(){var b,f,e,g,a,c,d,i,h,k,j;function n(a){if(!!b&&!!f&&!!e&&!!g){let c=e.offsetHeight+g.offsetHeight+f.offsetHeight+160-document.body.clientHeight;a>c&&(a=c),b.scrollTop=a}}function r(){!!b&&n(0)}function l(){if(!!b&&!!f&&!!e&&!!g&&!!j){let a=b.scrollTop,c=e.offsetHeight+g.offsetHeight+f.offsetHeight+160-document.body.clientHeight,d=Math.round(a/c*100);j.style.width=`${d}%`}}function p(a){!h||(a>50?h.classList.add('show'):h.classList.remove('show'))}function m(b){if(!!b&&!!a&&!!d&&a.length>0&&d.length>0&&a?.length==d?.length){let c=null;for(let d=0;d<=a.length;d++){if(!!a[d]&&!!a[d+1])if(!!a[d]?.offsetTop&&b>a[d].offsetTop&&!!a[d+1]?.offsetTop&&b<a[d+1].offsetTop){c=d;break}if(!!a[d]&&!a[d+1])if(!!a[d]?.offsetTop&&b>a[d].offsetTop){c=d;break}}t(),s(c)}}function t(){let a=document.querySelectorAll('.toc li .active');!!a&&a.forEach(a=>a.classList.remove('active'))}function s(a){!!d[a]&&d[a].classList.add('active'),o()}function o(){let a=document.querySelector('.toc li .active')?.parentNode;!c||(a?(a.offsetTop+a.clientHeight>c.clientHeight+c.scrollTop&&(c.scrollTop+=a.offsetTop+a.clientHeight-(c.clientHeight+c.scrollTop)+10),a.offsetTop<c.scrollTop&&(c.scrollTop=a.offsetTop-10)):c.scrollTop=0)}function q(a){a.target.src='/images/img_error.svg'}b=null,f=null,e=null,g=null,a=null,c=null,d=null,i=null,h=null,k=null,j=null,window.addEventListener('DOMContentLoaded',o=>{b=document.querySelector('.single-post'),f=document.querySelector('.single-post .post .header'),e=document.querySelector('.single-post .post .content'),g=document.querySelector('.single-post .post .footer'),a=document.querySelectorAll('.content h1[id],h2[id],h3[id],h4[id],h5[id]'),c=document.querySelector('.toc'),d=document.querySelectorAll('.toc li .toc-link'),i=document.querySelectorAll('.content img'),h=document.querySelector('.menu'),k=document.querySelector('#back_top_btn'),j=document.querySelector('#percentage'),!!i&&i.length>0&&i.forEach(a=>{a.onerror=q}),!b||(m(b.scrollTop+document.body.clientHeight),b.addEventListener('scroll',throttle(()=>{m(b.scrollTop+document.body.clientHeight),p(b.scrollTop),l()},200))),!!d&&d.length>0&&!!a&&a.length>0?d.forEach((c,b)=>{c.addEventListener('click',c=>{!a[b]||n(a[b].offsetTop)})}):!!c&&c.classList.add('hidden'),!!k&&k.addEventListener('click',r),!!j&&l()},{once:!0}),window.addEventListener('resize',throttle(()=>{!b||(m(b.scrollTop+document.body.clientHeight),l())},200))}()