<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  js webpackç®€ä»‹ </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" js webpackç®€ä»‹ " />
    <meta name="keywords" itemprop="keywords"
        content=" [webpack] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/js-webpack%E7%AE%80%E4%BB%8B/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.170c7d760b2f8d1c4ddec56f326dbcbe0edf234544257a599f3a07bf6af431e8.css" integrity="" type="text/css">
</head><body class="animated fadeInDown">
<div class="main">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>ç›®å½•</span>
        <span id="read-percentage"></span>
    </div><ul class="toc-h3"><li>
                    <span class="toc-link">1. ä¸ºä»€ä¹ˆä½¿ç”¨webpack</span>
                </li>
                
                        <ul class="toc-h4"><li>
                    <span class="toc-link">1. è¿œå¤é˜¶æ®µ</span>
                </li>
                <li>
                    <span class="toc-link">2. ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼é˜¶æ®µ</span>
                </li>
                <li>
                    <span class="toc-link">3. node.jsæ¨¡å—åŒ–&#43;commonJS</span>
                </li>
                <li>
                    <span class="toc-link">4. ECMAScript æ¨¡å—</span>
                </li>
                <li>
                    <span class="toc-link">5. webpack</span>
                </li>
                <li>
                    <span class="toc-link">6. vite</span>
                </li>
                
                        </ul><li>
                    <span class="toc-link">2. webpack</span>
                </li>
                
                        <ul class="toc-h4"><li>
                    <span class="toc-link">1. æ¨¡å—ï¼ˆModulesï¼‰</span>
                </li>
                <li>
                    <span class="toc-link">1. å…¥å£ï¼ˆentryï¼‰</span>
                </li>
                <li>
                    <span class="toc-link">2. è¾“å‡ºï¼ˆoutputï¼‰</span>
                </li>
                <li>
                    <span class="toc-link">3. åŠ è½½ï¼ˆloader ï¼‰</span>
                </li>
                <li>
                    <span class="toc-link">4. æ’ä»¶ï¼ˆpluginï¼‰</span>
                </li>
                <li>
                    <span class="toc-link">5. æ¨¡å¼ï¼ˆmodeï¼‰</span>
                </li>
                
                        </ul><li>
                    <span class="toc-link">3. webpack.config.js</span>
                </li>
                
                        <ul class="toc-h4"><li>
                    <span class="toc-link">1. ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶</span>
                </li>
                <li>
                    <span class="toc-link">2. å¯¼å‡ºå¤šç§é…ç½®</span>
                </li>
                
                        </ul><li>
                    <span class="toc-link">4. webpack-dev-server</span>
                </li>
                <li>
                    <span class="toc-link">5. html-webpack-plugin</span>
                </li>
                <li>
                    <span class="toc-link">6. webpackä¸bable</span>
                </li>
                
                        <ul class="toc-h4"><li>
                    <span class="toc-link">1. babel</span>
                </li>
                <li>
                    <span class="toc-link">2. babel-loader</span>
                </li>
                <li>
                    <span class="toc-link">3. ä¸‰è€…çš„å…³ç³»</span>
                </li>
                <li>
                    <span class="toc-link">4. åœ¨webpackä¸­ä½¿ç”¨bable</span>
                </li>
                
                        <ul class="toc-h5"><li>
                    <span class="toc-link">1. åˆå§‹åŒ–</span>
                </li>
                <li>
                    <span class="toc-link">2. é…ç½® Babel</span>
                </li>
                <li>
                    <span class="toc-link">3. é…ç½® React</span>
                </li>
                <li>
                    <span class="toc-link">4. é…ç½® webpack</span>
                </li>
                <li>
                    <span class="toc-link">5. ä¸¤ç§ç¼–è¯‘ç»“æœå¯¹æ¯”</span>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">js webpackç®€ä»‹</span>
        
        <div class="info">
          <span>ğŸ“… 2021-05-15</span>
          <span>ğŸ‘¦ Tomtom Young</span>
          <span>ğŸ“– 4360å­—</span>
          <span>â± 9åˆ†é’Ÿ</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1-ä¸ºä»€ä¹ˆä½¿ç”¨webpack">1. ä¸ºä»€ä¹ˆä½¿ç”¨webpack</h3>
<h4 id="1-è¿œå¤é˜¶æ®µ">1. è¿œå¤é˜¶æ®µ</h4>
<blockquote>
<p>åœ¨æ‰“åŒ…å·¥å…·å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬æ˜¯å¦‚ä½•åœ¨ web ä¸­ä½¿ç”¨ JavaScript çš„ï¼Ÿ</p>
<p>åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ JavaScript æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<ol>
<li>å¼•ç”¨ä¸€äº›è„šæœ¬æ¥å­˜æ”¾æ¯ä¸ªåŠŸèƒ½ï¼›æ­¤è§£å†³æ–¹æ¡ˆå¾ˆéš¾æ‰©å±•ï¼Œå› ä¸ºåŠ è½½å¤§é‡è„šæœ¬ä¼šå¯¼è‡´ç½‘ç»œç“¶é¢ˆã€‚</li>
<li>ä½¿ç”¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰é¡¹ç›®ä»£ç çš„å¤§å‹ <code>.js</code> æ–‡ä»¶ï¼Œä½†æ˜¯è¿™ä¼šå¯¼è‡´ä½œç”¨åŸŸã€æ–‡ä»¶å¤§å°ã€å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§æ–¹é¢çš„é—®é¢˜ã€‚</li>
</ol>
</blockquote>
<h4 id="2-ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼é˜¶æ®µ">2. ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼é˜¶æ®µ</h4>
<p>ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼(IIFE - Immediately invoked function expressions)</p>
<blockquote>
<p>IIFE è§£å†³å¤§å‹é¡¹ç›®çš„ä½œç”¨åŸŸé—®é¢˜ï¼šå½“è„šæœ¬æ–‡ä»¶è¢«å°è£…åœ¨ IIFE å†…éƒ¨æ—¶ï¼Œä½ å¯ä»¥å®‰å…¨åœ°æ‹¼æ¥æˆ–å®‰å…¨åœ°ç»„åˆæ‰€æœ‰æ–‡ä»¶ï¼Œè€Œä¸å¿…æ‹…å¿ƒä½œç”¨åŸŸå†²çªã€‚</p>
<p>IIFE ä½¿ç”¨æ–¹å¼äº§ç”Ÿå‡º Make, Gulp, Grunt, Broccoli æˆ– Brunch ç­‰å·¥å…·ã€‚è¿™äº›å·¥å…·ç§°ä¸ºä»»åŠ¡æ‰§è¡Œå™¨ï¼Œå®ƒä»¬å°†æ‰€æœ‰é¡¹ç›®æ–‡ä»¶æ‹¼æ¥åœ¨ä¸€èµ·ã€‚</p>
<p>ä½†æ˜¯ï¼Œä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶æ„å‘³ç€å¿…é¡»é‡æ–°æ„å»ºæ•´ä¸ªæ–‡ä»¶ã€‚æ‹¼æ¥å¯ä»¥åšåˆ°å¾ˆå®¹æ˜“åœ°è·¨æ–‡ä»¶é‡ç”¨è„šæœ¬ï¼Œä½†æ˜¯å´ä½¿æ„å»ºç»“æœçš„ä¼˜åŒ–å˜å¾—æ›´åŠ å›°éš¾ã€‚å¦‚ä½•åˆ¤æ–­ä»£ç æ˜¯å¦å®é™…è¢«ä½¿ç”¨ï¼Ÿ</p>
<p>å³ä½¿ä½ åªç”¨åˆ° lodash ä¸­çš„æŸä¸ªå‡½æ•°ï¼Œä¹Ÿå¿…é¡»åœ¨æ„å»ºç»“æœä¸­åŠ å…¥æ•´ä¸ªåº“ï¼Œç„¶åå°†å®ƒä»¬å‹ç¼©åœ¨ä¸€èµ·ã€‚å¦‚ä½• treeshake ä»£ç ä¾èµ–ï¼Ÿéš¾ä»¥å¤§è§„æ¨¡åœ°å®ç°å»¶è¿ŸåŠ è½½ä»£ç å—ï¼Œè¿™éœ€è¦å¼€å‘äººå‘˜æ‰‹åŠ¨åœ°è¿›è¡Œå¤§é‡å·¥ä½œã€‚</p>
</blockquote>
<h4 id="3-nodejsæ¨¡å—åŒ–commonjs">3. node.jsæ¨¡å—åŒ–+commonJS</h4>
<p>Node.js æ˜¯ä¸€ä¸ª JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ç¯å¢ƒä¹‹å¤–çš„è®¡ç®—æœºå’ŒæœåŠ¡å™¨ä¸­ä½¿ç”¨ã€‚webpack è¿è¡Œåœ¨ Node.js ä¸­ã€‚</p>
<p>æ—¢ç„¶ä¸æ˜¯åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ JavaScriptï¼Œç°åœ¨å·²ç»æ²¡æœ‰äº†å¯ä»¥æ·»åŠ åˆ°æµè§ˆå™¨ä¸­çš„ html æ–‡ä»¶å’Œ script æ ‡ç­¾ã€‚é‚£ä¹ˆ Node.js åº”ç”¨ç¨‹åºè¦å¦‚ä½•åŠ è½½æ–°çš„ä»£ç  chunk å‘¢ï¼Ÿ</p>
<p>CommonJS é—®ä¸–å¹¶å¼•å…¥äº† <code>require</code> æœºåˆ¶ï¼Œå®ƒå…è®¸ä½ åœ¨å½“å‰æ–‡ä»¶ä¸­åŠ è½½å’Œä½¿ç”¨æŸä¸ªæ¨¡å—ã€‚å¯¼å…¥éœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œè¿™ä¸€å¼€ç®±å³ç”¨çš„åŠŸèƒ½ï¼Œå¸®åŠ©æˆ‘ä»¬è§£å†³äº†ä½œç”¨åŸŸé—®é¢˜ã€‚</p>
<h4 id="4-ecmascript-æ¨¡å—">4. ECMAScript æ¨¡å—</h4>
<p>æ¨¡å—æ­£åœ¨æˆä¸º ECMAScript æ ‡å‡†çš„å®˜æ–¹åŠŸèƒ½ã€‚ç„¶è€Œï¼Œæµè§ˆå™¨æ”¯æŒä¸å®Œæ•´ï¼Œç‰ˆæœ¬è¿­ä»£é€Ÿåº¦ä¹Ÿä¸å¤Ÿå¿«ï¼Œç›®å‰è¿˜æ˜¯æ¨èä¸Šé¢é‚£äº›æ—©æœŸæ¨¡å—å®ç°ã€‚</p>
<h4 id="5-webpack">5. webpack</h4>
<p>æ˜¯å¦å¯ä»¥æœ‰ä¸€ç§æ–¹å¼ï¼Œä¸ä»…å¯ä»¥è®©æˆ‘ä»¬ç¼–å†™æ¨¡å—ï¼Œè€Œä¸”è¿˜æ”¯æŒä»»ä½•æ¨¡å—æ ¼å¼ï¼ˆè‡³å°‘åœ¨æˆ‘ä»¬åˆ°è¾¾ ESM ä¹‹å‰ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥åŒæ—¶å¤„ç†èµ„æºå’Œèµ„äº§ï¼Ÿ</p>
<p>è¿™å°±æ˜¯ webpack å­˜åœ¨çš„åŸå› ã€‚å®ƒæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå¯ä»¥æ‰“åŒ…ä½ çš„ JavaScript åº”ç”¨ç¨‹åºï¼ˆæ”¯æŒ ESM å’Œ CommonJSï¼‰ï¼Œå¯ä»¥æ‰©å±•ä¸ºæ”¯æŒè®¸å¤šä¸åŒçš„é™æ€èµ„æºï¼Œä¾‹å¦‚ï¼šimages, fonts å’Œ stylesheetsã€‚</p>
<h4 id="6-vite">6. vite</h4>
<p>Viteæ˜¯Vueçš„ä½œè€…å°¤é›¨æºªå¼€å‘çš„Webå¼€å‘æ„å»ºå·¥å…·ï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºæµè§ˆå™¨åŸç”ŸESæ¨¡å—å¯¼å…¥çš„å¼€å‘æœåŠ¡å™¨ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œåˆ©ç”¨æµè§ˆå™¨å»è§£æimportï¼Œåœ¨æœåŠ¡å™¨ç«¯æŒ‰éœ€ç¼–è¯‘è¿”å›ï¼Œå®Œå…¨è·³è¿‡äº†æ‰“åŒ…è¿™ä¸ªæ¦‚å¿µï¼ŒæœåŠ¡å™¨éšå¯éšç”¨ã€‚</p>
<h3 id="2-webpack">2. webpack</h3>
<blockquote>
<p>æœ¬è´¨ä¸Šï¼Œ<strong>webpack</strong> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„ <em>é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</em>ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª ä¾èµ–å›¾(dependency graphï¼‰ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª <em>bundle</em>ã€‚</p>
</blockquote>
<p>æ ¹æ®å®˜ç½‘çš„ä»‹ç»æˆ‘ä»¬å¯ä»¥çŸ¥é“è¿™å‡ ç‚¹ä¿¡æ¯ï¼š</p>
<ol>
<li>webpackæ˜¯ä¸€ä¸ªæ¨¡å—æ‰“åŒ…å·¥å…·</li>
<li>webpackæ˜¯ç”¨æ¥æ‰“åŒ…jsæ–‡ä»¶çš„</li>
<li>webpackæ˜¯é€šè¿‡æ„å»ºä¸€ä¸ªä¾èµ–å›¾ï¼Œæ¥æ˜ç¡®æ¨¡å—ä¹‹é—´çš„å…³ç³»çš„</li>
<li>webpackæœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶</li>
</ol>
<h4 id="1-æ¨¡å—modules">1. æ¨¡å—ï¼ˆModulesï¼‰</h4>
<ul>
<li>åœ¨æ¨¡å—åŒ–ç¼–ç¨‹ä¸­ï¼Œç¨‹åºåˆ†è§£ä¸ºåŠŸèƒ½ç¦»æ•£çš„ chunkï¼Œå¹¶ç§°ä¹‹ä¸ºæ¨¡å—ã€‚</li>
<li>æ¯ä¸ªæ¨¡å—éƒ½æ‹¥æœ‰å°äºå®Œæ•´ç¨‹åºçš„ä½“ç§¯ï¼Œä½¿å¾—éªŒè¯ã€è°ƒè¯•åŠæµ‹è¯•å˜å¾—è½»æ¾ã€‚ ç²¾å¿ƒç¼–å†™çš„æ¨¡å—æä¾›äº†å¯é çš„æŠ½è±¡å’Œå°è£…ç•Œé™ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸­æ¯ä¸ªæ¨¡å—éƒ½å…·å¤‡äº†æ¡ç†æ¸…æ™°çš„è®¾è®¡å’Œæ˜ç¡®çš„ç›®çš„ã€‚</li>
<li>Node.js ä»ä¸€å¼€å§‹å°±æ”¯æŒæ¨¡å—åŒ–ç¼–ç¨‹ã€‚ web çš„ <em>æ¨¡å—åŒ–</em> æ­£åœ¨ç¼“æ…¢æ”¯æŒä¸­ã€‚</li>
<li>åœ¨ web ç•Œå­˜åœ¨å¤šç§æ”¯æŒ JavaScript æ¨¡å—åŒ–çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·å„æœ‰ä¼˜åŠ¿å’Œé™åˆ¶ã€‚ webpack ä»è¿™äº›ç³»ç»Ÿä¸­æ±²å–äº†ç»éªŒå’Œæ•™è®­ï¼Œå¹¶å°† <em>æ¨¡å—</em> çš„æ¦‚å¿µåº”ç”¨åˆ°é¡¹ç›®çš„ä»»ä½•æ–‡ä»¶ä¸­ã€‚</li>
</ul>
<p><strong>webpackæ¨¡å—</strong></p>
<p>webpack å¤©ç”Ÿæ”¯æŒå¦‚ä¸‹æ¨¡å—ç±»å‹ï¼š</p>
<ul>
<li>ECMAScript æ¨¡å—</li>
<li>CommonJS æ¨¡å—</li>
<li>AMD æ¨¡å—</li>
</ul>
<p>é€šè¿‡ loaderå¯ä»¥ä½¿ webpack æ”¯æŒå¤šç§è¯­è¨€å’Œé¢„å¤„ç†å™¨è¯­æ³•ç¼–å†™çš„æ¨¡å—ã€‚loaderå‘ webpack æè¿°äº†å¦‚ä½•å¤„ç†éåŸç”Ÿ<em>æ¨¡å—</em>ï¼Œå¹¶å°†ç›¸å…³ä¾èµ–å¼•å…¥åˆ°ä½ çš„ bundlesä¸­ã€‚webpack ç¤¾åŒºå·²ç»ä¸ºå„ç§æµè¡Œçš„è¯­è¨€å’Œé¢„å¤„ç†å™¨åˆ›å»ºäº† <em>loader</em>ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š</p>
<ul>
<li>CoffeeScript</li>
<li>TypeScript</li>
<li>Sass</li>
<li>Less</li>
<li>Stylus</li>
</ul>
<blockquote>
<p>webpack <em>æ¨¡å—</em> èƒ½ä»¥å„ç§æ–¹å¼è¡¨è¾¾å®ƒä»¬çš„ä¾èµ–å…³ç³»ï¼š</p>
<ul>
<li>ES2015 <code>import</code> è¯­å¥</li>
<li>CommonJS <code>require()</code> è¯­å¥</li>
<li>AMD <code>define</code> å’Œ <code>require</code> è¯­å¥</li>
<li>css/sass/less æ–‡ä»¶ä¸­çš„ <code>@import</code> è¯­å¥ã€‚</li>
<li>stylesheet <code>url(...)</code> æˆ–è€… HTML <code>&lt;img src=...&gt;</code> æ–‡ä»¶ä¸­çš„å›¾ç‰‡é“¾æ¥ã€‚</li>
</ul>
</blockquote>
<h4 id="1-å…¥å£entry">1. å…¥å£ï¼ˆentryï¼‰</h4>
<blockquote>
<p>å…¥å£(entry)ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾çš„å¼€å§‹ã€‚è¿›å…¥å…¥å£èµ·ç‚¹åï¼Œwebpack ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—å’Œåº“æ˜¯å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„ã€‚</p>
<p>é»˜è®¤å€¼æ˜¯ <code>./src/index.js</code>ï¼Œä½†å¯ä»¥é€šè¿‡é…ç½® <code>entry</code> å±æ€§ï¼Œæ¥æŒ‡å®šä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰ä¸åŒçš„å…¥å£èµ·ç‚¹ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  entry<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./path/to/my/entry/file.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>};
</code></pre></div><h4 id="2-è¾“å‡ºoutput">2. è¾“å‡ºï¼ˆoutputï¼‰</h4>
<blockquote>
<p>outputå‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ <em>bundle</em>ï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ã€‚ä¸»è¦è¾“å‡ºæ–‡ä»¶çš„é»˜è®¤å€¼æ˜¯ <code>./dist/main.js</code>ï¼Œå…¶ä»–ç”Ÿæˆæ–‡ä»¶é»˜è®¤æ”¾ç½®åœ¨ <code>./dist</code> æ–‡ä»¶å¤¹ä¸­ã€‚</p>
<p>å¯ä»¥é€šè¿‡åœ¨é…ç½®ä¸­æŒ‡å®šä¸€ä¸ª <code>output</code> å­—æ®µï¼Œæ¥é…ç½®è¿™äº›å¤„ç†è¿‡ç¨‹ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">const</span> path <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;path&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  entry<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./path/to/my/entry/file.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  output<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    path<span style="color:#ff79c6">:</span> path.resolve(<span style="color:#bd93f9">__</span>dirname, <span style="color:#f1fa8c">&#39;dist&#39;</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>    filename<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;my-first-webpack.bundle.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>};
</code></pre></div><p>ç¤ºä¾‹ä¸­ï¼Œé€šè¿‡ <code>output.filename</code> å’Œ <code>output.path</code> å±æ€§ï¼Œæ¥å‘Šè¯‰ webpack bundle çš„åç§°ï¼Œä»¥åŠæˆ‘ä»¬æƒ³è¦ bundle ç”Ÿæˆåˆ°å“ªé‡Œã€‚</p>
<blockquote>
<p>å¯èƒ½ä½ æƒ³è¦äº†è§£åœ¨ä»£ç æœ€ä¸Šé¢å¯¼å…¥çš„ path æ¨¡å—æ˜¯ä»€ä¹ˆï¼Œå®ƒæ˜¯ä¸€ä¸ª <a href="https://nodejs.org/api/modules.html">Node.js æ ¸å¿ƒæ¨¡å—</a>ï¼Œç”¨äºæ“ä½œæ–‡ä»¶è·¯å¾„ã€‚</p>
</blockquote>
<h4 id="3-åŠ è½½loader-">3. åŠ è½½ï¼ˆloader ï¼‰</h4>
<blockquote>
<p>webpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ï¼Œè¿™æ˜¯ webpack å¼€ç®±å¯ç”¨çš„è‡ªå¸¦èƒ½åŠ›ã€‚<strong>loader</strong> è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆæ¨¡å—ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚</p>
<p>loader ç”¨äºå¯¹æ¨¡å—çš„æºä»£ç è¿›è¡Œè½¬æ¢ã€‚loader å¯ä»¥ä½¿ä½ åœ¨ <code>import</code> æˆ– &ldquo;load(åŠ è½½)&rdquo; æ¨¡å—æ—¶é¢„å¤„ç†æ–‡ä»¶ã€‚å› æ­¤ï¼Œloader ç±»ä¼¼äºå…¶ä»–æ„å»ºå·¥å…·ä¸­â€œä»»åŠ¡(task)â€ï¼Œå¹¶æä¾›äº†å¤„ç†å‰ç«¯æ„å»ºæ­¥éª¤çš„å¾—åŠ›æ–¹å¼ã€‚loader å¯ä»¥å°†æ–‡ä»¶ä»ä¸åŒçš„è¯­è¨€ï¼ˆå¦‚ TypeScriptï¼‰è½¬æ¢ä¸º JavaScript æˆ–å°†å†…è”å›¾åƒè½¬æ¢ä¸º data URLã€‚loader ç”šè‡³å…è®¸ä½ ç›´æ¥åœ¨ JavaScript æ¨¡å—ä¸­ <code>import</code> CSS æ–‡ä»¶ï¼</p>
</blockquote>
<p>åœ¨ webpack çš„é…ç½®ä¸­ï¼Œ<strong>loader</strong> æœ‰ä¸¤ä¸ªå±æ€§ï¼š</p>
<ol>
<li><code>test</code> å±æ€§ï¼Œè¯†åˆ«å‡ºå“ªäº›æ–‡ä»¶ä¼šè¢«è½¬æ¢ã€‚</li>
<li><code>use</code> å±æ€§ï¼Œå®šä¹‰å‡ºåœ¨è¿›è¡Œè½¬æ¢æ—¶ï¼Œåº”è¯¥ä½¿ç”¨å“ªä¸ª loaderã€‚</li>
</ol>
<p><strong>webpack.config.js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">const</span> path <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;path&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  output<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    filename<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;my-first-webpack.bundle.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  module<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    rules<span style="color:#ff79c6">:</span> [{ test<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">/\.txt$/</span>, use<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;raw-loader&#39;</span> }],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>};
</code></pre></div><blockquote>
<p>Warning</p>
<p>è¯·è®°ä½ï¼Œä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æ–‡ä»¶æ—¶ï¼Œä½ ä¸è¦ä¸ºå®ƒæ·»åŠ å¼•å·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>/\.txt$/</code> ä¸ <code>'/\.txt$/'</code> æˆ– <code>&quot;/\.txt$/&quot;</code> ä¸ä¸€æ ·ã€‚å‰è€…æŒ‡ç¤º webpack åŒ¹é…ä»»ä½•ä»¥ .txt ç»“å°¾çš„æ–‡ä»¶ï¼Œåè€…æŒ‡ç¤º webpack åŒ¹é…å…·æœ‰ç»å¯¹è·¯å¾„ &lsquo;.txt&rsquo; çš„å•ä¸ªæ–‡ä»¶; è¿™å¯èƒ½ä¸ç¬¦åˆä½ çš„æ„å›¾ã€‚</p>
</blockquote>
<h4 id="4-æ’ä»¶plugin">4. æ’ä»¶ï¼ˆpluginï¼‰</h4>
<blockquote>
<p>loader ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚åŒ…æ‹¬ï¼šæ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œæ³¨å…¥ç¯å¢ƒå˜é‡ã€‚</p>
<p>æ’ä»¶ç›®çš„åœ¨äºè§£å†³ loader æ— æ³•å®ç°çš„<strong>å…¶ä»–äº‹</strong>ã€‚</p>
<p>webpack è‡ªèº«ä¹Ÿæ˜¯æ„å»ºäºä½ åœ¨ webpack é…ç½®ä¸­ç”¨åˆ°çš„<strong>ç›¸åŒçš„æ’ä»¶ç³»ç»Ÿ</strong>ä¹‹ä¸Šï¼</p>
<p>æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦ <code>require()</code> å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ° <code>plugins</code> æ•°ç»„ä¸­ã€‚å¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹(option)è‡ªå®šä¹‰ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶ä¸­å› ä¸ºä¸åŒç›®çš„è€Œå¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ—¶éœ€è¦é€šè¿‡ä½¿ç”¨ <code>new</code> æ“ä½œç¬¦æ¥åˆ›å»ºä¸€ä¸ªæ’ä»¶å®ä¾‹ã€‚</p>
</blockquote>
<p><strong>webpack.config.js</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">const</span> HtmlWebpackPlugin <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;html-webpack-plugin&#39;</span>); <span style="color:#6272a4">// é€šè¿‡ npm å®‰è£…
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> webpack <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;webpack&#39;</span>); <span style="color:#6272a4">// ç”¨äºè®¿é—®å†…ç½®æ’ä»¶
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  module<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    rules<span style="color:#ff79c6">:</span> [{ test<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">/\.txt$/</span>, use<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;raw-loader&#39;</span> }],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>  plugins<span style="color:#ff79c6">:</span> [<span style="color:#ff79c6">new</span> HtmlWebpackPlugin({ template<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./src/index.html&#39;</span> })],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>};
</code></pre></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ<code>html-webpack-plugin</code> ä¸ºåº”ç”¨ç¨‹åºç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œå¹¶è‡ªåŠ¨æ³¨å…¥æ‰€æœ‰ç”Ÿæˆçš„ bundleã€‚</p>
<h4 id="5-æ¨¡å¼mode">5. æ¨¡å¼ï¼ˆmodeï¼‰</h4>
<p>é€šè¿‡é€‰æ‹© <code>development</code>, <code>production</code> æˆ– <code>none</code> ä¹‹ä¸­çš„ä¸€ä¸ªï¼Œæ¥è®¾ç½® <code>mode</code> å‚æ•°ï¼Œä½ å¯ä»¥å¯ç”¨ webpack å†…ç½®åœ¨ç›¸åº”ç¯å¢ƒä¸‹çš„ä¼˜åŒ–ã€‚å…¶é»˜è®¤å€¼ä¸º <code>production</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  mode<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;production&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>};
</code></pre></div><h3 id="3-webpackconfigjs">3. webpack.config.js</h3>
<ul>
<li>webpack å¼€ç®±å³ç”¨ï¼Œå¯ä»¥æ— éœ€ä½¿ç”¨ä»»ä½•é…ç½®æ–‡ä»¶ã€‚</li>
<li>webpack ä¼šé»˜è®¤é¡¹ç›®çš„å…¥å£èµ·ç‚¹ä¸º <code>src/index.js</code>ï¼Œåœ¨ <code>dist/main.js</code> è¾“å‡ºç»“æœï¼Œå¹¶ä¸”åœ¨ç”Ÿäº§ç¯å¢ƒå¼€å¯å‹ç¼©å’Œä¼˜åŒ–ã€‚</li>
<li>å¦‚æœé¡¹ç›®è¿˜éœ€è¦ç»§ç»­æ‰©å±•æ­¤èƒ½åŠ›ï¼Œéœ€è¦åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º <code>webpack.config.js</code> ï¼Œwebpack ä¼šè‡ªåŠ¨ä½¿ç”¨å®ƒã€‚</li>
</ul>
<h4 id="1-ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶">1. ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶</h4>
<p>å¦‚æœå‡ºäºæŸäº›åŸå› ï¼Œéœ€è¦æ ¹æ®ç‰¹å®šæƒ…å†µä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>--config</code> flag ä¿®æ”¹æ­¤é…ç½®æ–‡ä»¶åç§°ã€‚</p>
<p><strong>package.json</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#f1fa8c">&#34;scripts&#34;</span>: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  <span style="color:#ff79c6">&#34;build&#34;</span>: <span style="color:#f1fa8c">&#34;webpack --config prod.config.js&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>}
</code></pre></div><blockquote>
<p>webpack çš„é…ç½®æ–‡ä»¶æ˜¯ JavaScript æ–‡ä»¶ï¼Œæ–‡ä»¶å†…å¯¼å‡ºäº†ä¸€ä¸ª webpack é…ç½®çš„å¯¹è±¡ã€‚webpack ä¼šæ ¹æ®è¯¥é…ç½®å®šä¹‰çš„å±æ€§è¿›è¡Œå¤„ç†ã€‚</p>
<p>ç”±äº webpack éµå¾ª CommonJS æ¨¡å—è§„èŒƒï¼Œå› æ­¤ï¼Œå¯ä»¥åœ¨é…ç½®ä¸­ä½¿ç”¨ï¼š</p>
<ul>
<li>é€šè¿‡ <code>require(...)</code> å¼•å…¥å…¶ä»–æ–‡ä»¶</li>
<li>é€šè¿‡ <code>require(...)</code> ä½¿ç”¨ npm ä¸‹è½½çš„å·¥å…·å‡½æ•°</li>
<li>ä½¿ç”¨ JavaScript æ§åˆ¶æµè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ <code>?:</code> æ“ä½œç¬¦</li>
<li>å¯¹ value ä½¿ç”¨å¸¸é‡æˆ–å˜é‡èµ‹å€¼</li>
<li>ç¼–å†™å¹¶æ‰§è¡Œå‡½æ•°ï¼Œç”Ÿæˆéƒ¨åˆ†é…ç½®</li>
</ul>
</blockquote>
<h4 id="2-å¯¼å‡ºå¤šç§é…ç½®">2. å¯¼å‡ºå¤šç§é…ç½®</h4>
<p>é™¤äº†å¯¼å‡ºå•ä¸ªé…ç½®å¯¹è±¡/å‡½æ•°ï¼Œä½ å¯èƒ½ä¹Ÿä¼šéœ€è¦å¯¼å‡ºå¤šç§é…ç½®ï¼ˆwebpack 3.1.0 èµ·æ”¯æŒï¼‰ã€‚å½“è¿è¡Œ webpack æ—¶ï¼Œæ‰€æœ‰é…ç½®é¡¹éƒ½ä¼šæ„å»ºã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>module.exports = [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    output: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>      filename: &#39;./dist-amd.js&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>      libraryTarget: &#39;amd&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    name: &#39;amd&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    entry: &#39;./app.js&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    mode: &#39;production&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    output: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>      filename: &#39;./dist-commonjs.js&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>      libraryTarget: &#39;commonjs&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>    name: &#39;commonjs&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    entry: &#39;./app.js&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    mode: &#39;production&#39;,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>];
</code></pre></div><h3 id="4-webpack-dev-server">4. webpack-dev-server</h3>
<blockquote>
<p>webpack-dev-serveræ˜¯ä¸€ä¸ªå°å‹çš„<code>Node.js Express</code>æœåŠ¡å™¨,å®ƒä½¿ç”¨<code>webpack-dev-middleware</code>æ¥æœåŠ¡äºwebpackçš„åŒ…,é™¤æ­¤è‡ªå¤–ï¼Œå®ƒè¿˜æœ‰ä¸€ä¸ªé€šè¿‡<a href="http://sockjs.org/">Sock.js</a>æ¥è¿æ¥åˆ°æœåŠ¡å™¨çš„å¾®å‹è¿è¡Œæ—¶ã€‚</p>
<p>æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯:webpack-dev-serverç”Ÿæˆçš„åŒ…å¹¶æ²¡æœ‰æ”¾åœ¨ä½ çš„çœŸå®ç›®å½•ä¸­,è€Œæ˜¯æ”¾åœ¨äº†å†…å­˜ä¸­ã€‚</p>
</blockquote>
<h3 id="5-html-webpack-plugin">5. html-webpack-plugin</h3>
<blockquote>
<p><a href="https://github.com/jantimon/html-webpack-plugin"><code>HtmlWebpackPlugin</code></a> ç®€åŒ–äº† HTML æ–‡ä»¶çš„åˆ›å»ºï¼Œä»¥ä¾¿ä¸ºä½ çš„ webpack åŒ…æä¾›æœåŠ¡ã€‚</p>
<p>ä½ å¯ä»¥è®©è¯¥æ’ä»¶ä¸ºä½ ç”Ÿæˆä¸€ä¸ª HTML æ–‡ä»¶ï¼Œä½¿ç”¨ <a href="https://lodash.com/docs#template">lodash æ¨¡æ¿</a>æä¾›æ¨¡æ¿ï¼Œæˆ–è€…ä½¿ç”¨ä½ è‡ªå·±çš„ <a href="https://webpack.docschina.org/loaders">loader</a>ã€‚</p>
</blockquote>
<p>è¯¥æ’ä»¶å°†ä¸ºä½ ç”Ÿæˆä¸€ä¸ª HTML5 æ–‡ä»¶ï¼Œ åœ¨ body ä¸­ä½¿ç”¨ <code>script</code> æ ‡ç­¾å¼•å…¥ä½ æ‰€æœ‰ webpack ç”Ÿæˆçš„ bundleã€‚ åªéœ€æ·»åŠ è¯¥æ’ä»¶åˆ°ä½ çš„ webpack é…ç½®ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">const</span> HtmlWebpackPlugin <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;html-webpack-plugin&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6">const</span> path <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;path&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  entry<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;index.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  output<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    path<span style="color:#ff79c6">:</span> path.resolve(<span style="color:#bd93f9">__</span>dirname, <span style="color:#f1fa8c">&#39;./dist&#39;</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    filename<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;index_bundle.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  plugins<span style="color:#ff79c6">:</span> [<span style="color:#ff79c6">new</span> HtmlWebpackPlugin()],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>};
</code></pre></div><p>è¿™å°†ä¼šç”Ÿæˆä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ <code>dist/index.html</code> æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">&lt;!DOCTYPE html&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>&lt;<span style="color:#ff79c6">html</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  &lt;<span style="color:#ff79c6">head</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    &lt;<span style="color:#ff79c6">meta</span> <span style="color:#50fa7b">charset</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;UTF-8&#34;</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    &lt;<span style="color:#ff79c6">title</span>&gt;webpack App&lt;/<span style="color:#ff79c6">title</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  &lt;/<span style="color:#ff79c6">head</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  &lt;<span style="color:#ff79c6">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    &lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;index_bundle.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  &lt;/<span style="color:#ff79c6">body</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>&lt;/<span style="color:#ff79c6">html</span>&gt;
</code></pre></div><h3 id="6-webpackä¸bable">6. webpackä¸bable</h3>
<h4 id="1-babel">1. babel</h4>
<p>babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ã€‚ï¼ˆæŠŠæµè§ˆå™¨ä¸è®¤è¯†çš„è¯­æ³•ï¼Œç¼–è¯‘æˆæµè§ˆå™¨è®¤è¯†çš„è¯­æ³•ã€‚ï¼‰</p>
<h4 id="2-babel-loader">2. babel-loader</h4>
<p>ç”¨æ¥è¿æ¥webpackä½¿ç”¨babelçš„åŠ è½½å™¨</p>
<h4 id="3-ä¸‰è€…çš„å…³ç³»">3. ä¸‰è€…çš„å…³ç³»</h4>
<p>webpack é€šè¿‡ babel-loader ä½¿ç”¨ babel ï¼Œä½¿ç”¨åˆ°äº†Bableçš„å¦‚ä¸‹å†…å®¹ï¼š</p>
<blockquote>
<ul>
<li>
<p>@babel/cli</p>
<p>Babelé™„å¸¦äº†ä¸€ä¸ªå†…ç½®çš„CLIï¼Œå¯ç”¨äºä»å‘½ä»¤è¡Œç¼–è¯‘æ–‡ä»¶ã€‚</p>
</li>
<li>
<p>@babel/core</p>
<p>ä½¿ç”¨æœ¬åœ°é…ç½®æ–‡ä»¶</p>
</li>
<li>
<p>@babel/preset-env</p>
<p>ç¼–è¯‘æœ€æ–°ç‰ˆæœ¬JavaScript</p>
</li>
<li>
<p>@babel/preset-react</p>
<p>ç¼–è¯‘react</p>
</li>
<li>
<p>@babel/polyfill</p>
<p>é€šè¿‡ Polyfill æ–¹å¼åœ¨ç›®æ ‡ç¯å¢ƒä¸­æ·»åŠ ç¼ºå¤±çš„ç‰¹æ€§</p>
</li>
<li>
<p>@babel/plugin-proposal-class-properties</p>
<p>ç¼–è¯‘ class</p>
</li>
</ul>
</blockquote>
<h4 id="4-åœ¨webpackä¸­ä½¿ç”¨bable">4. åœ¨webpackä¸­ä½¿ç”¨bable</h4>
<h5 id="1-åˆå§‹åŒ–">1. åˆå§‹åŒ–</h5>
<p>æ–°å»ºé¡¹ç›®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>mkdir babel-in-webpack
</code></pre></div><p>è¿›å…¥é¡¹ç›®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">cd</span> babel-in-webpack/
</code></pre></div><p>åˆå§‹åŒ– npm</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm init
</code></pre></div><p>ä¸ç”¨ç®¡æç¤ºï¼Œä¸€é¡¿å›è½¦é”®ã€‚ç„¶åä¼šç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ <code>package.json</code></p>
<h5 id="2-é…ç½®-babel">2. é…ç½® Babel</h5>
<p>å®‰è£… Babel ç›¸å…³ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm install --save-dev @babel/cli @babel/core @babel/preset-env @babel/polyfill
</code></pre></div><p>æ–°å»ºæ–‡ä»¶ <code>babel.config.json</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  <span style="color:#ff79c6">&#34;presets&#34;</span>: [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#f1fa8c">&#34;@babel/preset-env&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  ],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  <span style="color:#ff79c6">&#34;plugins&#34;</span>: []
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>}
</code></pre></div><p>æ–°å»ºæ–‡ä»¶å¤¹ <code>src</code>ï¼Œ<code>src</code> å†…æ–°å»ºæ–‡ä»¶ <code>test.js</code>ï¼Œéšä¾¿å†™ç‚¹å•¥es6è¯­æ³•ã€‚</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbea1000f3" alt="img"></p>
<p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤ç¼–è¯‘</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>./node_modules/.bin/babel src --out-dir lib
</code></pre></div><p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbeade14d6" alt="img"></p>
<p>ç¼–è¯‘å®Œä¼šæ–°å¢ç›®å½•<code>lib</code>, é‡Œé¢æ”¾ç€ç¼–è¯‘å¥½çš„æ–‡ä»¶</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbead1a5b8" alt="img"></p>
<h5 id="3-é…ç½®-react">3. é…ç½® React</h5>
<p>å®‰è£… <code>Babel</code> ç¼–è¯‘ <code>React</code> çš„ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm install --save-dev @babel/preset-react @babel/plugin-proposal-class-properties
</code></pre></div><p><code>babel.config.json</code> æ·»åŠ  <code>React</code> ç›¸å…³é…ç½®</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  <span style="color:#ff79c6">&#34;presets&#34;</span>: [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#f1fa8c">&#34;@babel/preset-env&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    <span style="color:#f1fa8c">&#34;@babel/preset-react&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  ],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>  <span style="color:#ff79c6">&#34;plugins&#34;</span>: [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>    <span style="color:#f1fa8c">&#34;@babel/plugin-proposal-class-properties&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>  ]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>}
</code></pre></div><p>å®‰è£… <code>React</code> ç›¸å…³ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm install --save react react-dom
</code></pre></div><p><code>src</code> ä¸‹æ–°å¢ <code>react</code> æ–‡ä»¶ <code>main.js</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">import</span> React from <span style="color:#f1fa8c">&#39;react&#39;</span>;<span style="color:#ff79c6">import</span> ReactDOM from <span style="color:#f1fa8c">&#39;react-dom&#39;</span>;<span style="color:#ff79c6">class</span> App <span style="color:#ff79c6">extends</span> React.Component {  render() {    <span style="color:#ff79c6">return</span> (      &lt;<span style="color:#ff79c6">div</span>&gt;Hello World<span style="color:#ff79c6">!</span>&lt;/<span style="color:#ff79c6">div</span>&gt;    )  }}ReactDOM.render(&lt;<span style="color:#ff79c6">App</span> /&gt;, <span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;root&#39;</span>));
</code></pre></div><p>è¿è¡Œå‘½ä»¤ç¼–è¯‘</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>./node_modules/.bin/babel src --out-dir lib
</code></pre></div><p>ç¼–è¯‘å®Œæˆå <code>lib</code> ä¸‹å¤šäº†ä¸€ä¸ª <code>main.js</code>ã€‚</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbeb4d6b7b" alt="img"></p>
<p>çœ‹èµ·æ¥ç¼–è¯‘å¾ˆæˆåŠŸ, æˆ‘ä»¬åœ¨ <code>lib</code> ä¸‹é¢æ–°å»ºä¸€ä¸ª html å¼•å…¥ <code>main.js</code> çœ‹çœ‹æ•ˆæœ</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbefcf3ea3" alt="img"></p>
<p>æŠ¥é”™ï¼Œæµè§ˆå™¨ä¸è®¤è¯†requireï¼Œç»§ç»­å¾€ä¸‹çœ‹ã€‚</p>
<h5 id="4-é…ç½®-webpack">4. é…ç½® webpack</h5>
<p>å®‰è£… <code>webpack</code> ä¾èµ–</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm install --save-dev webpack webpack-cli
</code></pre></div><p>æ ¹ç›®å½•æ–°å»ºæ–‡ä»¶ <code>webpack.config.js</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">const</span> path <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;path&#39;</span>);module.exports <span style="color:#ff79c6">=</span> {  entry<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./src/main.js&#39;</span>,  output<span style="color:#ff79c6">:</span> {    path<span style="color:#ff79c6">:</span> path.resolve(<span style="color:#bd93f9">__</span>dirname, <span style="color:#f1fa8c">&#39;dist&#39;</span>),    filename<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;[name].js&#39;</span>  }};
</code></pre></div><p>åœ¨ <code>package.json</code> çš„ <code>scripts</code> ä¸­åŠ å…¥å‘½ä»¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#f1fa8c">&#34;build&#34;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;webpack --mode development&#34;</span>,
</code></pre></div><p>è¿è¡Œå‘½ä»¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm run build
</code></pre></div><p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fbf1613980" alt="img"></p>
<p><code>webpack</code> ä¸è®¤è¯† <code>react</code> è¯­æ³•ï¼Œåœ¨ <code>webpack.config.js</code> ä¸­åŠ å…¥ <code>babel-loader</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">const</span> path <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;path&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>module.exports <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  entry<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;./src/main.js&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  output<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    path<span style="color:#ff79c6">:</span> path.resolve(<span style="color:#bd93f9">__</span>dirname, <span style="color:#f1fa8c">&#39;dist&#39;</span>),
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    filename<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;[name].js&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  module<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    rules<span style="color:#ff79c6">:</span> [
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>      { test<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">/\.js$/</span>, use<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;babel-loader&#39;</span> }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    ]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  plugins<span style="color:#ff79c6">:</span> []
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>};
</code></pre></div><p>å®‰è£…ä¾èµ– <code>babel-loader</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm install --save-dev babel-loader
</code></pre></div><p>è¿è¡Œå‘½ä»¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm run build
</code></pre></div><p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fc1cc5e5e3" alt="img"></p>
<p>ä¼šçœ‹åˆ° <code>dist/main.js</code>, å†™ä¸ªhtmlå¼•å…¥è¯•è¯•</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/170f87fc1f474c1d" alt="img"></p>
<h5 id="5-ä¸¤ç§ç¼–è¯‘ç»“æœå¯¹æ¯”">5. ä¸¤ç§ç¼–è¯‘ç»“æœå¯¹æ¯”</h5>
<p>æˆ‘ä»¬æ¥çœ‹ <code>Babel</code> ç¼–è¯‘ç»“æœ <code>lib/main.js</code> å’Œ <code>webpack</code> ç¼–è¯‘ç»“æœ <code>dist/main.js</code>ï¼Œå‘ç° <code>Babel</code> ä»…ä»…æ˜¯å°† <code>src/main.js</code> çš„reactè¯­æ³•ç¼–è¯‘æˆäº†jsè¯­æ³•ï¼Œè€Œ <code>webpack</code> å°† <code>src/main.js</code> å’Œå¼•å…¥çš„ <code>node_modules</code> èåˆåç”¨ <code>Babel</code> ç¼–è¯‘ã€‚</p>
<p>æµè§ˆå™¨ä¸è®¤è¯† <code>require</code>ï¼Œ<code>webpack</code> å®ç°äº†ä¸€å¥—æµè§ˆå™¨è®¤è¯†çš„ <code>require</code>ã€‚</p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/%20categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a><a class="category" href="https://tomtomyoung.top/%20categories/%E7%B2%BE%E9%80%89/">ç²¾é€‰</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/%20tags/js/">js</a><a class="tag" href="https://tomtomyoung.top/%20tags/webpack/">webpack</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <i class="iconfont icon-top item-btn" id="back-top-btn"></i>
    </li>
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-switch item-btn" id="switch-btn"></i>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-search item-btn" id="search-btn"></i>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/vscode%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" data-tooltip="vscodeå¸¸ç”¨å¿«æ·é”®">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E6%B5%8F%E8%A7%88%E5%99%A8-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%A4%9A%E8%BF%9B%E7%A8%8Bjs%E5%8D%95%E7%BA%BF%E7%A8%8B/" data-tooltip="æµè§ˆå™¨ æµè§ˆå™¨å¤šè¿›ç¨‹/jså•çº¿ç¨‹">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="æœç´¢å…³é”®è¯" id="search-input" />
    <div id="loading" class="loading-container">
        <span>æœç´¢ä¸­...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: query => {
            document.querySelector('#loading').classList.add('show');
            
        },
        transformData: tips => {
            document.querySelector('#loading').classList.remove('show');
        }
    });
</script>
    </div>
</body>






<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.933d3f3aad4f128e4af989efbb4678629962a61b0fc99d8461a327d40bfeb2fd57a7db3d2bfc299af500abddd909b81ea5c0979596ea96f9c7c3b197ba457cdb.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>