<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  markdown中插入音视频 </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" markdown中插入视频 " />
    <meta name="keywords" itemprop="keywords"
        content=" [markdown 视频] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/markdown%E4%B8%AD%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.efda7717cbf0ab8dc9081c89b5e1a58e3c7b9b8ee3471c759bea8a750722a7ab.css" integrity="" type="text/css">
</head><body>
<div class="main animated fadeInDown">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>目录</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://tomtomyoung.top/post/markdown%E4%B8%AD%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91/#1-%e6%8f%92%e5%85%a5%e9%9f%b3%e9%a2%91" class="toc-link">1. 插入音频</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/markdown%E4%B8%AD%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91/#2-%e6%8f%92%e5%85%a5%e8%a7%86%e9%a2%91" class="toc-link">2. 插入视频</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/markdown%E4%B8%AD%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91/#3-iframe%e7%ae%80%e4%bb%8b" class="toc-link">3. iframe简介</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">markdown中插入音视频</span>
        
        <div class="info">
          <span>📅 2021-01-06</span>
          <span>👦 Tomtom Young</span>
          <span>📖 3321字</span>
          <span>⏱ 7分钟</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <p>我们之前介绍过typora+picgo+腾讯云的搭配，这使我们在编写markdown文档时可以方便的添加图片，并实现同步上传。那么，如果我们在markdown文档中想要添加一段视频或者音频，我们该如何做？</p>
<p>首先，作为一切的大前提，我们一定要配置markdown文档的解析方式，将不安全模式打开，这样才能解析markdown文档中的HTML标签。hugo默认的markdown解析引擎是goldmark，我们在配置文件<code>config.toml</code>中加入下面的代码：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>[markup]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  [markup.goldmark]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    [markup.goldmark.renderer]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>      unsafe = <span style="color:#ff79c6">true</span>
</code></pre></div><h3 id="1-插入音频">1. 插入音频</h3>
<p>这里以网易云音乐的在线音乐为例，首先我们先打开网易云音乐网站，随便找一首歌：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20210106122315661.png" alt="image-20210106122315661"></p>
<p>这里有一个生成外链播放器的按钮，点击它：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20210106122430861.png" alt="image-20210106122430861"></p>
<p>这里有两种方式，一种是iframe，一种是flash，我们分别来试一下。</p>
<p>首先将生成的iframe链接复制到我们的markdown文档中，我们来看看效果：</p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=376635&auto=1&height=66"></iframe>
<p>然后同样的我们复制生成的flash链接，看看效果：</p>
<p><embed src="//music.163.com/style/swf/widget.swf?sid=376635&type=2&auto=1&width=320&height=66" width="340" height="86"  allowNetworking="all"></embed></p>
<p>因为现在flash现在已经不被支持了，想要使用还要单独的再操作，明显可以看到，使用iframe是更好更舒服的。</p>
<h3 id="2-插入视频">2. 插入视频</h3>
<p>视频的插入和音频同理，一般也是使用iframe标签进行插入。由于各大视频网站都有超长的广告，我们以bilibili作为例子！首先我们先找到bilibili网站上的一个视频：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20210106123759047.png" alt="image-20210106123759047"></p>
<p>我们可以看到下面有一个分享视频的小按钮，里面包含了bilibili自动生成的iframe标签，我们只需将这段代码粘贴到我们的文章中：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20210106123912187.png" alt="image-20210106123912187"></p>
<p>粘贴过来之后我们还要指定一下视频窗口的长和宽，我们加入<code>width=&quot;100%&quot; height=&quot;500&quot;</code>这段代码，配置好之后的效果是：</p>
<iframe src="//player.bilibili.com/player.html?aid=796321194&bvid=BV1nC4y1h7yX&cid=211642767&page=1"  width="100%" height="500"  scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<h3 id="3-iframe简介">3. iframe简介</h3>
<p>通过上面我们可以看到，插入视频和音频都用到了iframe标签，那么这个iframe标签是何许人也？</p>
<blockquote>
<p>转载MDN Web Docs相关内容：<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe">https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/iframe</a></p>
</blockquote>
<p><strong>HTML内联框架元素 (<code>&lt;iframe&gt;</code>)</strong> 表示嵌套的browsing context。它能够将另一个HTML页面嵌入到当前页面中。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20210106125544188.png" alt="image-20210106125544188"></p>
<p>每个嵌入的浏览上下文（embedded browsing context）都有自己的会话历史记录和DOM树。包含嵌入内容的浏览上下文称为<em>父级浏览上下文</em>。顶级浏览上下文（没有父级）通常是由 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window"><code>Window</code></a> 对象表示的浏览器窗口。</p>
<p>页面上的每个<code>&lt;iframe&gt;</code>都需要增加内存和其它计算资源，这是因为每个浏览上下文都拥有完整的文档环境。虽然理论上来说你能够在代码中写出来无限多的<code>&lt;iframe&gt;</code>，但是你最好还是先看看这么做会不会导致某些性能问题。</p>
<p>iframe里面包含的属性有：</p>
<ul>
<li>
<p><strong><code>allow</code></strong></p>
<p>用于为<code>&lt;iframe&gt;</code>指定其<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/%E7%AD%96%E7%95%A5%E7%89%B9%E5%BE%81">特征策略</a>.</p>
</li>
<li>
<p><strong><code>allowfullscreen</code></strong></p>
<p>设置为<code>true</code>时，可以通过调用 <code>&lt;iframe&gt;</code> 的 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/requestFullscreen"><code>requestFullscreen()</code></a> 方法激活全屏模式。</p>
<p>这是一个历史遗留属性，已经被重新定义为 <code>allow=&quot;fullscreen&quot;</code>。</p>
</li>
<li>
<p><strong><code>allowpaymentrequest</code></strong></p>
<p>设置为<code>true</code>时，跨域的 <code>&lt;iframe&gt;</code> 就可以调用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Payment_Request_API">Payment Request API</a>。</p>
<p>这是一个历史遗留属性，已经被重新定义为 <code>allow=&quot;payment&quot;</code>.</p>
</li>
<li>
<p><strong><code>csp</code></strong></p>
<p>对嵌入的资源配置<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP">内容安全策略</a>。 查看 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLIFrameElement/csp"><code>HTMLIFrameElement.csp</code></a> 获取详情。</p>
</li>
<li>
<p><strong><code>height</code></strong></p>
<p>以CSS像素格式<a href="https://developer.mozilla.org/zh-CN/docs/HTML/HTML5">HTML5</a>，或像素格式HTML 4.01，或百分比格式指定frame的高度。默认值为<code>150</code>。</p>
</li>
<li>
<p><strong><code>importance</code></strong></p>
<p>表示 <code>&lt;iframe&gt; </code>的 <code>src</code> 属性指定的资源的加载优先级。允许的值有：<code>auto</code> (default)不指定优先级。浏览器根据自身情况决定资源的加载顺序<code>high</code>资源的加载优先级较高<code>low</code>资源的加载优先级较低</p>
</li>
<li>
<p><strong><code>name</code></strong></p>
<p>用于定位嵌入的浏览上下文的名称。该名称可以用作 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/form"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/a) 标签与 [</code></a> 标签的 <code>target</code> 属性值，也可以用作 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/button"><code>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input) 标签和 [</code></a> 标签的 <code>formtarget</code> 属性值，还可以用作 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/open"><code>window.open()</code></a> 方法的 <code>windowName</code> 参数值。</p>
</li>
<li>
<p><strong><code>referrerpolicy</code></strong></p>
<p>表示在获取 iframe 资源时如何发送 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer">referrer</a> 首部：<code>no-referrer</code>: 不发送 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Referer"><code>Referer</code></a> 首部。<code>no-referrer-when-downgrade</code> (default): 向不受 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/TLS">TLS</a> (<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/https">HTTPS</a>) 保护的 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/%E6%BA%90">origin</a> 发送请求时，不发送 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Referer"><code>Referer</code></a> 首部。<code>origin</code>: referrer 首部中仅包含来源页面的源。换言之，仅包含来源页面的 <a href="https://developer.mozilla.org/en-US/docs/Archive/Mozilla/URIScheme">scheme</a>, <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Host">host</a>, 以及 <a href="https://developer.mozilla.org/en-US/docs/Glossary/port">port</a>。<code>origin-when-cross-origin</code>: 发起跨域请求时，仅在 referrer 中包含来源页面的源。发起同源请求时，仍然会在 referrer 中包含来源页面在服务器上的路径信息。<code>same-origin</code>: 对于 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Same-origin_policy">same origin</a> （同源）请求，发送 referrer 首部，否则不发送。<code>strict-origin</code>: 仅当被请求页面和来源页面具有相同的协议安全等级时才发送 referrer 首部（比如从采用 HTTPS 协议的页面请求另一个采用 HTTPS 协议的页面）。如果被请求页面的协议安全等级较低，则不会发送 referrer 首部（比如从采用 HTTPS 协议的页面请求采用 HTTP 协议的页面）。<code>strict-origin-when-cross-origin</code>: 当发起同源请求时，在 referrer 首部中包含完整的 URL。当被请求页面与来源页面不同源但是有相同协议安全等级时（比如 HTTPS→HTTPS），在 referrer 首部中仅包含来源页面的源。当被请求页面的协议安全等级较低时（比如 HTTPS→HTTP），不发送 referrer 首部。<code>unsafe-url</code>: 始终在 referrer 首部中包含源以及路径 。<strong>这个值是不安全的</strong>, 因为这样做会暴露受 TLS 保护的资源的源和路径信息。</p>
</li>
<li>
<p><strong><code>sandbox</code></strong></p>
<p>该属性对呈现在 iframe 框架中的内容启用一些额外的限制条件。属性值可以为空字符串（这种情况下会启用所有限制），也可以是用空格分隔的一系列指定的字符串。有效的值有：<code>allow-downloads-without-user-activation</code> : 允许在没有征求用户同意的情况下下载文件.<code>allow-forms</code>: 允许嵌入的浏览上下文提交表单。如果没有使用该关键字，则无法提交表单。<code>allow-modals</code>: 允许嵌入的浏览上下文打开模态窗口。<code>allow-orientation-lock</code>: 允许嵌入的浏览上下文锁定屏幕方向（译者注：比如智能手机、平板电脑的水平朝向或垂直朝向）。<code>allow-pointer-lock</code>: 允许嵌入的浏览上下文使用 Pointer Lock API.<code>allow-popups</code>: 允许弹窗 (例如 window.open, target=&quot;_blank&quot;, <code>showModalDialog</code>)。如果没有使用该关键字，相应的功能将自动被禁用。<code>allow-popups-to-escape-sandbox</code>:  允许沙箱化的文档打开新窗口，并且新窗口不会继承沙箱标记。例如，安全地沙箱化一个广告页面，而不会在广告链接到的新页面中启用相同的限制条件。<code>allow-presentation</code>: 允许嵌入的浏览上下文开始一个presentation session。<code>allow-same-origin</code>: 如果没有使用该关键字，嵌入的浏览上下文将被视为来自一个独立的源，这将使 same-origin policy 同源检查失败。<code>allow-scripts</code>: 允许嵌入的浏览上下文运行脚本（但不能创建弹窗）。如果没有使用该关键字，就无法运行脚本。<code>allow-storage-access-by-user-activation</code> : 允许嵌入的浏览上下文通过 Storage Access API 使用父级浏览上下文的存储功能。<code>allow-top-navigation</code>: 允许嵌入的浏览上下文导航（加载）内容到顶级的浏览上下文。<code>allow-top-navigation-by-user-activation</code>: 允许嵌入的浏览上下文<strong>在经过用户允许后</strong>导航（加载）内容到顶级的浏览上下文。**注意:**当被嵌入的文档与主页面同源时，强烈建议不要同时使用 <code>allow-scripts</code> 和 <code>allow-same-origin</code>。如果同时使用，嵌入的文档就可以通过代码删除 <code>sandbox</code> 属性，如此，就安全性而言还不如不用<code>sandbox</code>。如果攻击者可以在沙箱化的 <code>iframe</code> 之外展示内容，例如用户在新标签页中打开内联框架，那么沙箱化也就没有意义了。建议把这种内容放置到独立的专用域中，以减小可能的损失。沙箱属性(sandbox)在Internet Explorer 9及更早的版本上不被支持。</p>
</li>
<li>
<p><strong><code>src</code></strong></p>
<p>被嵌套的页面的 URL 地址。使用 <code>about:blank</code> 值可以嵌入一个遵从同源策略的空白页。在 Firefox （version 65及更高版本）、基于 Chromium 的浏览器、Safari/iOS 中使用代码移除 <code>iframe</code> 的 <code>src</code> 属性（例如通过 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/removeAttribute"><code>Element.removeAttribute()</code></a> ）会导致 <code>about:blank</code> 被载入 frame。</p>
</li>
<li>
<p><strong><code>srcdoc</code></strong> HTML5 only</p>
<p>该属性是一段HTML代码，这些代码会被渲染到 iframe 中。如果浏览器不支持 <code>srcdoc</code> 属性，则会渲染 <code>src</code> 属性表示的内容。</p>
</li>
<li>
<p><strong><code>width</code></strong></p>
<p>以CSS像素格式HTML5，或以像素格式HTML 4.01，或以百分比格式指定的 frame 的宽度。默认值是<code>300</code>。</p>
</li>
</ul>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/%20categories/%E5%8D%9A%E5%AE%A2/">博客</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/%20tags/markdown/">markdown</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="back-top-btn">
            <i class="iconfont icon-top item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E4%BA%92%E8%81%94%E7%BD%91%E5%BB%BA%E7%AB%99%E5%85%A8%E6%B5%81%E7%A8%8B/" data-tooltip="互联网建站全流程">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/markdown%E4%B8%AD%E5%B5%8C%E5%85%A5%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C%E5%B7%A5%E5%85%B7/" data-tooltip="markdown中嵌入代码执行工具">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover animated fadeInShow">
        <div class="search-container animated fadeInShow">
    <input type="search" class="docsearch-input search-input" placeholder="搜索关键词" />
    <div id="loading" class="loading-container">
        <span>搜索中...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: (query) => {
            $('#loading').css('display', 'flex');
        },
        transformData: (tips) => {
            $('#loading').css('display', 'none');
        }
    })
</script>
    </div>
</body>



<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.801ba58b9554e77a2688843e942518db9f3bba50276845cc90afcd9fe5f4deac2c0fa3d1d918ec41dd1aea45a16b7782e09a365fe34d756db8d3bcacb3ccd3f4.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>