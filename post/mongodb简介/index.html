<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
  <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
  <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
  <meta name="baidu-site-verification" content="iPC3wUcQLL" />
  <title>mongoDB简介</title>
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.91.2" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <meta name="description" itemprop="description"
    content="mongoDB简介" />
  <meta name="keywords" itemprop="keywords"
    content="[mongodb]" />
  <base href="https://tomtomyoung.top/" />
  <link rel="canonical" href="https://tomtomyoung.top/post/mongodb%E7%AE%80%E4%BB%8B/" />

  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload prefetch" as="style" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap" media="print"
    onload="this.media='all'">

  
  <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png" />
  <link rel="mask-icon" href="https://tomtomyoung.top/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="apple-touch-icon" sizes="180x180" href="https://tomtomyoung.top/favicons/apple-touch-icon.png">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="msapplication-TileImage" content="https://tomtomyoung.top/favicons/mstile-144x144.png">
  <link rel="manifest" href="https://tomtomyoung.top/manifest.json">

  
  <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_5vzvggza71i.css" />
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.eb5d9b3799d951ca7af56a866e8f3cdbe43c1c8a5bd6defd3ed919da23dafb5795341cfc273fa6eab0aa41bd039a42815095aa6e867dd0e4e643cfbc195e4261.css" integrity="sha512-612bN5nZUcp69WqGbo882&#43;Q8HIpb1t79PtkZ2iPa&#43;1eVNBz8Jz&#43;m6rCqQb0DmkKBUJWqboZ90OTmQ8&#43;8GV5CYQ==" type="text/css" />
</head><body>
<div class="main"><div class="percentage_container">
    <div class="percentage" id="percentage"></div>
</div><div class="toc sub-container">
    <div class="toc-header animated fadeInDown">
        <span>目录</span>
    </div><ul class="toc-h3 animated fadeInDown"><li>
                <span class="toc-link">1. 我们常用的数据库有哪些？</span>
            </li>
            <li>
                <span class="toc-link">2. 关系型数据库和非关系型数据库</span>
            </li>
            
                    <ul class="toc-h4"><li>
                <span class="toc-link">2.1 关系型数据库(SQL数据库)</span>
            </li>
            <li>
                <span class="toc-link">2.2 非关系型数据库(NOSQL数据库)</span>
            </li>
            
                    </ul><li>
                <span class="toc-link">3. 非关系型数据库的分类</span>
            </li>
            <li>
                <span class="toc-link">4. MongoDB简介</span>
            </li>
            
                    <ul class="toc-h4"><li>
                <span class="toc-link">4.1 特性</span>
            </li>
            <li>
                <span class="toc-link">4.2 优点</span>
            </li>
            <li>
                <span class="toc-link">4.3 概念</span>
            </li>
            <li>
                <span class="toc-link">4.4 数据类型</span>
            </li>
            
                    </ul><li>
                <span class="toc-link">5. 使用MongoDB</span>
            </li>
            </div><div class="single-post container">
    <div class="post animated fadeInDown">
      <div class="header">
        <span class="title">mongoDB简介</span>
        
          <div class="info">
            <span>发布于2020-12-09</span>
            <span>更新于2022-05-17</span>
            <span>共2540字</span>
            <span>阅读6分钟</span>

          </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1-我们常用的数据库有哪些">1. 我们常用的数据库有哪些？</h3>
<ol>
<li>MySQL和MariaDB；</li>
<li>Oracle；</li>
<li>SQL Server；</li>
</ol>
<p>上面的三个是最流行的数据库，也是我们开发时频繁的使用数据库。</p>
<ol>
<li>MySQL是<strong>关系型数据库管理系统</strong>。</li>
<li>Oracle全称Oracle Database，又名Oracle RDBMS，也是<strong>关系型数据库管理系统</strong>。</li>
<li>SQL Server 是Microsoft公司推出的<strong>关系型数据库管理系统</strong>。</li>
</ol>
<h3 id="2-关系型数据库和非关系型数据库">2. 关系型数据库和非关系型数据库</h3>
<h4 id="21-关系型数据库sql数据库">2.1 关系型数据库(SQL数据库)</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/v2-f4be296b822e6703c1152d29658f6870_720w.jpg" alt=""></p>
<p>特性：</p>
<ol>
<li>关系型数据库，是指采用了关系模型来组织数据的数据库；</li>
<li>关系型数据库的最大特点就是事务的一致性；</li>
<li>简单来说，关系模型指的就是二维表格模型，而一个关系型数据库就是由二维表及其之间的联系所组成的一个数据组织</li>
</ol>
<p>优点：</p>
<ol>
<li>容易理解：二维表结构是非常贴近逻辑世界一个概念，关系模型相对网状、层次等其他模型来说更容易理解；</li>
<li>使用方便：通用的SQL语言使得操作关系型数据库非常方便；</li>
<li>易于维护：丰富的完整性(实体完整性、参照完整性和用户定义的完整性)大大减低了数据冗余和数据不一致的概率；</li>
<li>支持SQL，可进行复杂的查询；</li>
<li>支持事务；</li>
</ol>
<p>缺点：为了维护一致性所付出的巨大代价就是其读写性能比较差</p>
<ol>
<li>使用固定的表结构，灵活性差；</li>
<li>无法处理高并发读写需求，对传统关系型数据库来说，硬盘I/O是一个很大的瓶颈，不能进行海量数据的高效率读写；</li>
</ol>
<h4 id="22-非关系型数据库nosql数据库">2.2 非关系型数据库(NOSQL数据库)</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/v2-363f7fd16027234a71635a2647bf8410_720w.jpg" alt=""></p>
<p>特性：</p>
<ol>
<li>NOSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解析；</li>
<li>分布式，分布式系统的核心理念是让多台服务器协同工作，完成单台服务器无法处理的任务，尤其是高并发或者大数据量的任务。分布式是NoSQL数据库的必要条件；</li>
<li>一般不支持ACID特性；</li>
<li>非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合。</li>
</ol>
<p>优点：</p>
<ol>
<li>无需经过sql层的解析，读写性能很高；</li>
<li>基于键值对，数据没有耦合性，容易扩展；</li>
<li>存储数据的格式：nosql的存储格式是key/value形式、文档形式、图片形式等，而关系型数据库则只支持基础类型；</li>
</ol>
<p>缺点：</p>
<ol>
<li>不提供sql支持，学习和使用成本较高；</li>
<li>无事务处理，对附加功能和报表等支持也不好；</li>
</ol>
<blockquote>
<p>数据库事务必须具备ACID特性，ACID是Atomic原子性，Consistency一致性，Isolation隔离性，Durability持久性。</p>
</blockquote>
<table>
<thead>
<tr>
<th></th>
<th>SQL数据库</th>
<th>NoSQL数据库</th>
</tr>
</thead>
<tbody>
<tr>
<td>模式</td>
<td>预定义的模式</td>
<td>没有预定义的模式</td>
</tr>
<tr>
<td>查询语言</td>
<td>结构化查询语言（SQL）</td>
<td>没有声明性查询语言</td>
</tr>
<tr>
<td>一致性</td>
<td>严格的一致性</td>
<td>最终一致性</td>
</tr>
<tr>
<td>事务</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>理论基础</td>
<td>ACID</td>
<td>CAP, BASE</td>
</tr>
<tr>
<td>扩展</td>
<td>纵向扩展</td>
<td>横向扩展(分布式)</td>
</tr>
</tbody>
</table>
<h3 id="3-非关系型数据库的分类">3. 非关系型数据库的分类</h3>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/2019063022023843.png" alt="在这里插入图片描述"></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20190630220310266.png" alt="在这里插入图片描述"></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20190630220334224.png" alt="在这里插入图片描述"></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20190630220353886.png" alt="在这里插入图片描述"></p>
<h3 id="4-mongodb简介">4. MongoDB简介</h3>
<h4 id="41-特性">4.1 特性</h4>
<ol>
<li>
<p>MongoDB是一个基于分布式文件存储的数据库。由C++编写。旨在为WEB应用提供可扩展的高性能数据存储解决方案。</p>
</li>
<li>
<p>MongoDB是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p>
</li>
<li>
<p>MongoDB 将数据存储为一个文档，数据结构由键值(key=&gt;value)对组成。MongoDB 文档类似于 JSON 对象。字段值可以包含其他文档，数组及文档数组。</p>
</li>
</ol>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/crud-annotated-document.png" alt="img"></p>
<h4 id="42-优点">4.2 优点</h4>
<ol>
<li>
<p>MongoDB 是一个面向文档存储的数据库，操作起来比较简单和容易。</p>
</li>
<li>
<p>可以通过本地或者网络创建数据镜像，这使得MongoDB有更强的扩展性。</p>
</li>
<li>
<p>如果负载的增加（需要更多的存储空间和更强的处理能力） ，它可以分布在计算机网络中的其他节点上这就是所谓的分片。</p>
</li>
<li>
<p>MongoDB允许在服务端执行脚本，可以用Javascript编写某个函数，直接在服务端执行，也可以把函数的定义存储在服务端，下次直接调用即可。</p>
</li>
</ol>
<h4 id="43-概念">4.3 概念</h4>
<table>
<thead>
<tr>
<th style="text-align:left">SQL术语/概念</th>
<th style="text-align:left">MongoDB术语/概念</th>
<th style="text-align:left">解释/说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">database</td>
<td style="text-align:left">database</td>
<td style="text-align:left">数据库</td>
</tr>
<tr>
<td style="text-align:left">table</td>
<td style="text-align:left">collection</td>
<td style="text-align:left">数据库表/集合</td>
</tr>
<tr>
<td style="text-align:left">row</td>
<td style="text-align:left">document</td>
<td style="text-align:left">数据记录行/文档</td>
</tr>
<tr>
<td style="text-align:left">column</td>
<td style="text-align:left">field</td>
<td style="text-align:left">数据字段/域</td>
</tr>
<tr>
<td style="text-align:left">index</td>
<td style="text-align:left">index</td>
<td style="text-align:left">索引/索引</td>
</tr>
<tr>
<td style="text-align:left">table joins</td>
<td style="text-align:left"></td>
<td style="text-align:left">表连接/MongoDB不支持</td>
</tr>
<tr>
<td style="text-align:left">primary key</td>
<td style="text-align:left">primary key</td>
<td style="text-align:left">主键/MongoDB自动将_id字段设置为主键</td>
</tr>
</tbody>
</table>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Figure-1-Mapping-Table-to-Collection-1.png" alt="img"></p>
<h4 id="44-数据类型">4.4 数据类型</h4>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">String</td>
<td style="text-align:left">字符串。存储数据常用的数据类型。在 MongoDB 中，UTF-8 编码的字符串才是合法的。</td>
</tr>
<tr>
<td style="text-align:left">Integer</td>
<td style="text-align:left">整型数值。用于存储数值。根据你所采用的服务器，可分为 32 位或 64 位。</td>
</tr>
<tr>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">布尔值。用于存储布尔值（真/假）。</td>
</tr>
<tr>
<td style="text-align:left">Double</td>
<td style="text-align:left">双精度浮点值。用于存储浮点值。</td>
</tr>
<tr>
<td style="text-align:left">Min/Max keys</td>
<td style="text-align:left">将一个值与 BSON（二进制的 JSON）元素的最低值和最高值相对比。</td>
</tr>
<tr>
<td style="text-align:left">Array</td>
<td style="text-align:left">用于将数组或列表或多个值存储为一个键。</td>
</tr>
<tr>
<td style="text-align:left">Timestamp</td>
<td style="text-align:left">时间戳。记录文档修改或添加的具体时间。</td>
</tr>
<tr>
<td style="text-align:left">Object</td>
<td style="text-align:left">用于内嵌文档。</td>
</tr>
<tr>
<td style="text-align:left">Null</td>
<td style="text-align:left">用于创建空值。</td>
</tr>
<tr>
<td style="text-align:left">Symbol</td>
<td style="text-align:left">符号。该数据类型基本上等同于字符串类型，但不同的是，它一般用于采用特殊符号类型的语言。</td>
</tr>
<tr>
<td style="text-align:left">Date</td>
<td style="text-align:left">日期时间。用 UNIX 时间格式来存储当前日期或时间。你可以指定自己的日期时间：创建 Date 对象，传入年月日信息。</td>
</tr>
<tr>
<td style="text-align:left">Object ID</td>
<td style="text-align:left">对象 ID。用于创建文档的 ID。</td>
</tr>
<tr>
<td style="text-align:left">Binary Data</td>
<td style="text-align:left">二进制数据。用于存储二进制数据。</td>
</tr>
<tr>
<td style="text-align:left">Code</td>
<td style="text-align:left">代码类型。用于在文档中存储 JavaScript 代码。</td>
</tr>
<tr>
<td style="text-align:left">Regular expression</td>
<td style="text-align:left">正则表达式类型。用于存储正则表达式。</td>
</tr>
</tbody>
</table>
<h3 id="5-使用mongodb">5. 使用MongoDB</h3>
<p><strong>与数据库交互的最佳方式是什么?</strong></p>
<p>与数据库交互有两种方法：</p>
<ul>
<li>使用数据库的原生查询语言（例如SQL）</li>
<li>使用对象数据模型（Object Data Model，简称 ODM）或对象关系模型（Object Relational Model，简称 ORM）。 ODM / ORM 能将网站中的数据表示为 JavaScript 对象，然后将它们映射到底层数据库。一些 ORM 只适用某些特定数据库，还有一些是普遍适用的。</li>
</ul>
<p>使用 ORM/ODM 的好处是：程序员可以继续用 JavaScript 对象的思维而不用转向数据库语义的思维。 在（同一个或不同网站）使用不同数据库时尤为明显。使用 ORM 还可以更方便地对数据进行验证和检查。</p>
<p>而对于非关系型数据库MongoDB，显然不能使用SQL进行查询，最好的方式就是使用ORM/ODM，Mongoose 是最受欢迎的 ODM，选用 MongoDB 数据库时，它是一个合理的选择。</p>
<p>连接MongoDB：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">var</span> mongoose <span style="color:#ff79c6">=</span> require(<span style="color:#f1fa8c">&#39;mongoose&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>mongoose.connect(<span style="color:#f1fa8c">&#34;mongodb://localhost:27017/blog_db&#34;</span>, {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    useNewUrlParser<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    useFindAndModify<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    useCreateIndex<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    useUnifiedTopology<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>});
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#8be9fd;font-style:italic">var</span> mongoConn <span style="color:#ff79c6">=</span> mongoose.connection;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>mongoConn.on(<span style="color:#f1fa8c">&#39;error&#39;</span>, ()=&gt;{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    console.log(<span style="color:#f1fa8c">&#39;mongo连接失败&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>});
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>mongoConn.on(<span style="color:#f1fa8c">&#39;connected&#39;</span>,()=&gt;{
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    console.log(<span style="color:#f1fa8c">&#39;mongo连接成功&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>})
</code></pre></div><p>定义一个表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#6272a4">// 定义一个Schema
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> articalSchema <span style="color:#ff79c6">=</span> mongoose.Schema({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    id<span style="color:#ff79c6">:</span> { 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">Number</span>, 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>        required<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>, 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>        unique<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span> 
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    title<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">String</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>        required<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    content<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">String</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    auther<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">String</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>        required<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    date<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">Date</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>        required<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">true</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>        <span style="color:#ff79c6">default</span><span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">Date</span>.now
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>    },
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>    privacy<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>        type<span style="color:#ff79c6">:</span> <span style="color:#8be9fd;font-style:italic">Boolean</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>        <span style="color:#ff79c6">default</span><span style="color:#ff79c6">:</span> <span style="color:#ff79c6">false</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>    }    
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span style="color:#6272a4">// 实例化对象
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">var</span> Artical <span style="color:#ff79c6">=</span> mongoose.model(<span style="color:#f1fa8c">&#39;Artical&#39;</span>,articalSchema)
</code></pre></div><p>向表中添加数据：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#6272a4">// 添加文章
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4"></span><span style="color:#8be9fd;font-style:italic">function</span> addArtical(articalInfo) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    <span style="color:#8be9fd;font-style:italic">var</span> articalObj <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Artical({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>        id<span style="color:#ff79c6">:</span> articalInfo.id,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>        title<span style="color:#ff79c6">:</span> articalInfo.title,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>        content<span style="color:#ff79c6">:</span> articalInfo.content,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>        auther<span style="color:#ff79c6">:</span> articalInfo.auther
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">new</span> <span style="color:#8be9fd;font-style:italic">Promise</span>((resolve, reject) =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>        articalObj.save((err, data) =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>            <span style="color:#ff79c6">if</span> (err) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>                reject(err)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>            } <span style="color:#ff79c6">else</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>                resolve(data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>            }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>        })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>}
</code></pre></div>
      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/tags/mongodb/">mongodb</a></span>
      </div>

      
    </div><ul class="menu">
    <li class="menu-item">
        <i class="iconfont icon-top item-btn" id="back_top_btn"></i>
    </li>
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-switch item-btn" id="switch_btn"></i>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-search item-btn" id="search_btn"></i>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/nodejsnpm%E7%AE%80%E4%BB%8B/" data-tooltip="nodejs&amp;npm简介">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/redis%E7%AE%80%E4%BB%8B/" data-tooltip="redis简介">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul></div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="搜索关键词" />
    
</div>
    </div>
</body>










<script src="https://tomtomyoung.top/js/util.min.2ea0e3959611ea2c1ef11201db182f5c68c5a2622d81cd9a5ac6a9875d5ea81adc0a661d9c9bf3a923c691782b20b3a001704936a69f97b968f9947cac0f6395.js" integrity="sha512-LqDjlZYR6iwe8RIB2xgvXGjFomItgc2aWsaph11eqBrcCmYdnJvzqSPGkXgrILOgAXBJNqafl7lo&#43;ZR8rA9jlQ=="></script></html>