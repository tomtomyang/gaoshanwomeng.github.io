<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  hugo algoliaæœç´¢ </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" hugo algoliaæœç´¢ " />
    <meta name="keywords" itemprop="keywords"
        content=" [hugo algolia] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.09c943b7156acb895e836b904b03210ebb20cff98bfa84a5bb45c19c520b3b5d.css" integrity="" type="text/css">
</head><body class="animated fadeInDown">
<div class="main">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>ç›®å½•</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1algolia%e7%ae%80%e4%bb%8b" class="toc-link" data-anchorId="1algoliaç®€ä»‹">1.algoliaç®€ä»‹</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2algolia%e5%87%86%e5%a4%87" class="toc-link" data-anchorId="2algoliaå‡†å¤‡">2.algoliaå‡†å¤‡</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e6%b3%a8%e5%86%8c%e8%b4%a6%e5%8f%b7" class="toc-link" data-anchorId="1æ³¨å†Œè´¦å·">1.æ³¨å†Œè´¦å·</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e6%96%b0%e5%bb%baindices" class="toc-link" data-anchorId="2æ–°å»ºindices">2.æ–°å»ºIndices</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e8%8e%b7%e5%8f%96api-keys" class="toc-link" data-anchorId="3è·å–api-keys">3.è·å–API Keys</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3blog%e9%85%8d%e7%bd%ae" class="toc-link" data-anchorId="3blogé…ç½®">3.blogé…ç½®</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e4%bf%ae%e6%94%b9configtoml" class="toc-link" data-anchorId="1ä¿®æ”¹configtoml">1.ä¿®æ”¹config.toml</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e6%96%b0%e5%bb%bajson%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="2æ–°å»ºjsonæ–‡ä»¶">2.æ–°å»º.jsonæ–‡ä»¶</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e7%94%9f%e6%88%90json%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="3ç”Ÿæˆjsonæ–‡ä»¶">3.ç”Ÿæˆ.jsonæ–‡ä»¶</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#4%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="4ä¸Šä¼ æ–‡ä»¶">4.ä¸Šä¼ æ–‡ä»¶</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e5%ae%89%e8%a3%85-atomic-algolia" class="toc-link" data-anchorId="1å®‰è£…-atomic-algolia">1.å®‰è£… atomic-algolia</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e9%85%8d%e7%bd%aepackagejson" class="toc-link" data-anchorId="2é…ç½®packagejson">2.é…ç½®package.json</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e9%85%8d%e7%bd%aeenv%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="3é…ç½®envæ–‡ä»¶">3.é…ç½®.envæ–‡ä»¶</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#4%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="4ä¸Šä¼ æ–‡ä»¶">4.ä¸Šä¼ æ–‡ä»¶</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#5%e6%b7%bb%e5%8a%a0search%e7%bb%84%e4%bb%b6" class="toc-link" data-anchorId="5æ·»åŠ searchç»„ä»¶">5.æ·»åŠ searchç»„ä»¶</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#6%e5%bc%95%e5%85%a5search%e7%bb%84%e4%bb%b6" class="toc-link" data-anchorId="6å¼•å…¥searchç»„ä»¶">6.å¼•å…¥searchç»„ä»¶</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#7%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4%e6%a0%b7%e5%bc%8f" class="toc-link" data-anchorId="7ä¿®æ”¹é»˜è®¤æ ·å¼">7.ä¿®æ”¹é»˜è®¤æ ·å¼</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#8%e9%ab%98%e7%ba%a7%e9%80%89%e9%a1%b9" class="toc-link" data-anchorId="8é«˜çº§é€‰é¡¹">8.é«˜çº§é€‰é¡¹</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">hugo algoliaæœç´¢</span>
        
        <div class="info">
          <span>ğŸ“… 2020-06-08</span>
          <span>ğŸ‘¦ Tomtom Young</span>
          <span>ğŸ“– 1740å­—</span>
          <span>â± 4åˆ†é’Ÿ</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1algoliaç®€ä»‹">1.algoliaç®€ä»‹</h3>
<blockquote>
<p>Algoliaæ˜¯ä¸€å®¶ä¸ºç½‘ç«™ä¸ç§»åŠ¨åº”ç”¨æä¾›æ‰˜ç®¡å¼æœç´¢APIçš„åˆåˆ›ä¼ä¸šï¼ŒAlgoliaçš„æœåŠ¡æ”¯æŒå¤šç§è¯­è¨€æ”¯æŒRubyã€Railsã€Pythonã€PHPã€JSã€Javaã€Androidã€Objective-Cç­‰å¤šç§è¯­è¨€ï¼Œå…·å¤‡å…³é”®å­—è¾“å…¥æ™ºèƒ½å®¹é”™åŠŸèƒ½ï¼Œå¹¶æä¾›æœ‰æœç´¢æ’åé…ç½®ï¼Œå¹¶å…·æœ‰å®æ—¶å¿«é€Ÿçš„ç‰¹ç‚¹ï¼ˆAlgoliaåœ¨å…¨çƒ12ä¸ªæ•°æ®ä¸­å¿ƒå‡æœ‰éƒ¨ç½²ï¼‰ã€‚Algoliaè¿˜ä¸ºç§»åŠ¨è®¾å¤‡æä¾›äº†ç¦»çº¿æœç´¢å¼•æ“ï¼Œå…¶C++ SDKå¯ä»¥åµŒå…¥åˆ°åº”ç”¨æœåŠ¡å™¨ç«¯ï¼Œè¿™æ ·å³ä¾¿æ²¡æœ‰ç½‘ç»œè¿æ¥åº”ç”¨ä¹Ÿèƒ½æä¾›æœç´¢åŠŸèƒ½ã€‚</p>
</blockquote>
<p>aligoliaæä¾›å¾ˆå¤šæœåŠ¡ï¼Œå…¶ä¸­çš„Docsearchæ˜¯å®Œå…¨å…è´¹çš„ï¼Œå› ä¸ºä»–ä»¬è§‰å¾—ï¼Œä»»ä½•äººéƒ½åº”è¯¥èƒ½å¤Ÿæœ‰èƒ½åŠ›æ„å»ºæ–¹ä¾¿æœç´¢çš„æ–‡æ¡£ï¼Œå› æ­¤æˆ‘ä»¬å°±ä½¿ç”¨Docsearchæ¥æ„å»ºåšå®¢çš„ç«™å†…æœç´¢åŠŸèƒ½ã€‚</p>
<h3 id="2algoliaå‡†å¤‡">2.algoliaå‡†å¤‡</h3>
<h4 id="1æ³¨å†Œè´¦å·">1.æ³¨å†Œè´¦å·</h4>
<p>è¿›å…¥algoliaå®˜ç½‘è¿›è¡Œæ³¨å†Œï¼Œåœ°å€ï¼š<a href="https://www.algolia.com/">https://www.algolia.com/</a>ã€‚</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608225121741.png" alt="image-20200608225121741"></p>
<p>æ–°æ³¨å†Œçš„è´¦å·æœ‰14å¤©çš„ä½“éªŒæœŸï¼Œå¯ä»¥ä½¿ç”¨ä»»ä½•åŠŸèƒ½ï¼Œè¿‡äº†è¿™æ®µæ—¶é—´åªèƒ½ä½¿ç”¨å…è´¹çš„åŠŸèƒ½ï¼Œå…·ä½“çš„é™åˆ¶åº”è¯¥æ˜¯å…è´¹è´¦æˆ·æ€»å…±æœ‰ 10,000 æ¡è®°å½•ï¼Œæ¯æœˆæœ‰ 100,000 çš„å¯ä»¥æ“ä½œæ•°ã€‚</p>
<h4 id="2æ–°å»ºindices">2.æ–°å»ºIndices</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608225652900.png" alt="image-20200608225652900"></p>
<p>åœ¨indicesé‡Œæ–°å»ºä¸€ä¸ªç´¢å¼•ã€‚</p>
<h4 id="3è·å–api-keys">3.è·å–API Keys</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/15765569-9fa0e5844f871007" alt=""></p>
<h3 id="3blogé…ç½®">3.blogé…ç½®</h3>
<h4 id="1ä¿®æ”¹configtoml">1.ä¿®æ”¹config.toml</h4>
<p>æ‰“å¼€congig.tomlï¼Œåœ¨é‡Œé¢å¡«å†™ä¸€ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>[outputs]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    home = [<span style="color:#f1fa8c">&#34;HTML&#34;</span>, <span style="color:#f1fa8c">&#34;RSS&#34;</span>, <span style="color:#f1fa8c">&#34;Algolia&#34;</span>]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>[outputFormats.Algolia]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  baseName = <span style="color:#f1fa8c">&#34;algolia&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  isPlainText = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  mediaType = <span style="color:#f1fa8c">&#34;application/json&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  notAlternative = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>[params.algolia]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  appId = <span style="color:#f1fa8c">&#34;ä½ çš„Application ID&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  indexName = <span style="color:#f1fa8c">&#34;ä½ çš„ç´¢å¼•åå­—&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  searchOnlyKey = <span style="color:#f1fa8c">&#34;ä½ çš„Search-Only API Key&#34;</span>
</code></pre></div><h4 id="2æ–°å»ºjsonæ–‡ä»¶">2.æ–°å»º.jsonæ–‡ä»¶</h4>
<p>æ‰“å¼€ä¸»é¢˜ç›®å½•ï¼Œæˆ–è€…æ ¹ç›®å½•ï¼Œåœ¨layouts/_default (æ²¡æœ‰å°±æ–°å»º) æ–‡ä»¶å¤¹ä¸­æ–°å»º list.algolia.json æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{/* ç”ŸæˆAlgoliaæœç´¢ç´¢å¼•æ–‡ä»¶ */}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>{{- $.Scratch.Add <span style="color:#ff79c6">&#34;index&#34;</span> slice -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>{{/* content/postsæˆ–content/postç›®å½•ä¸‹çš„åšæ–‡æ‰ç”Ÿæˆç´¢å¼• */}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>{{- range where (where .Site.Pages <span style="color:#ff79c6">&#34;Type&#34;</span> <span style="color:#f1fa8c">&#34;in&#34;</span> (slice <span style="color:#f1fa8c">&#34;posts&#34;</span> <span style="color:#f1fa8c">&#34;post&#34;</span>)) <span style="color:#f1fa8c">&#34;IsPage&#34;</span> <span style="color:#ff79c6">true</span> -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  {{- if and (not .Draft) (not .Params.private) -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    {{- $.Scratch.Add <span style="color:#ff79c6">&#34;index&#34;</span> (dict <span style="color:#f1fa8c">&#34;objectID&#34;</span> .File.UniqueID <span style="color:#f1fa8c">&#34;url&#34;</span> .Permalink <span style="color:#f1fa8c">&#34;content&#34;</span> (.Summary | plainify) <span style="color:#f1fa8c">&#34;tags&#34;</span> .Params.Tags <span style="color:#f1fa8c">&#34;lvl0&#34;</span> .Title <span style="color:#f1fa8c">&#34;lvl1&#34;</span> .Params.Categories <span style="color:#f1fa8c">&#34;lvl2&#34;</span> <span style="color:#f1fa8c">&#34;æ‘˜è¦&#34;</span>) -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>  {{- end -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>{{- end -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>{{- $.Scratch.Get <span style="color:#ff79c6">&#34;index&#34;</span> | jsonify -}}
</code></pre></div><h4 id="3ç”Ÿæˆjsonæ–‡ä»¶">3.ç”Ÿæˆ.jsonæ–‡ä»¶</h4>
<p>æ‰§è¡Œhugo -Dï¼Œåœ¨publicæ–‡ä»¶å¤¹ä¸­ä¼šå‡ºç°ä¸€ä¸ªalgolia.jsonæ–‡ä»¶ï¼Œæ‰“å¼€çœ‹ä¸€ä¸‹æ˜¯ä¸æ˜¯ç©ºçš„ï¼Œå¦‚æœä¸æ˜¯ç©ºçš„å°±è¯´æ˜ç”Ÿæˆçš„æ²¡æœ‰é—®é¢˜ã€‚</p>
<h3 id="4ä¸Šä¼ æ–‡ä»¶">4.ä¸Šä¼ æ–‡ä»¶</h3>
<p>æˆ‘ä»¬éœ€è¦å°†ç”Ÿæˆçš„algolia.jsonæ–‡ä»¶ä¸Šä¼ åˆ°å»ºå¥½çš„indecisé‡Œï¼Œä¸€èˆ¬æœ‰æ‰‹åŠ¨ä¸Šä¼ å’Œè‡ªåŠ¨ä¸Šä¼ ï¼Œæœæ–­é€‰æ‹©è‡ªåŠ¨ä¸Šä¼ ã€‚</p>
<h4 id="1å®‰è£…-atomic-algolia">1.å®‰è£… atomic-algolia</h4>
<p>åœ¨åšå®¢çš„æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm init  // ä¸æ‡‚çš„å°±å›è½¦å¥½äº†
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>npm install atomic-algolia --save
</code></pre></div><p>ä¼šåœ¨æ ¹ç›®å½•ä¸‹ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼Œnode_modulesï¼Œpackage.jsonï¼Œpackage-lock.jsonã€‚</p>
<h4 id="2é…ç½®packagejson">2.é…ç½®package.json</h4>
<p>åœ¨package.jsoné‡Œå†™å…¥ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#f1fa8c">&#34;scripts&#34;</span>: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    <span style="color:#ff79c6">&#34;test&#34;</span>: <span style="color:#f1fa8c">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#ff79c6">&#34;algolia&#34;</span>: <span style="color:#f1fa8c">&#34;atomic-algolia&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>},
</code></pre></div><h4 id="3é…ç½®envæ–‡ä»¶">3.é…ç½®.envæ–‡ä»¶</h4>
<p>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª.envæ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>ALGOLIA_APP_ID=ä½ çš„Application ID
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>ALGOLIA_INDEX_NAME=ä½ çš„ç´¢å¼•åå­—
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>ALGOLIA_INDEX_FILE=public/algolia.json
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>ALGOLIA_ADMIN_KEY=ä½ çš„Admin API Key
</code></pre></div><h4 id="4ä¸Šä¼ æ–‡ä»¶-1">4.ä¸Šä¼ æ–‡ä»¶</h4>
<p>åœ¨æ ¹ç›®å½•ä¸‹è¿è¡Œnpm run algoliaï¼Œå¦‚æœå‡ºç°ä»¥ä¸‹å†…å®¹è¯´æ˜æ²¡æœ‰é—®é¢˜ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/C6u38blAWG7Xnke.png" alt=""></p>
<p>è¿”å›algoliaç½‘ç«™çš„æ§åˆ¶å°ï¼Œåœ¨indicesé‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä¸Šä¼ ä¸Šå»çš„æ•°æ®ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608231638335.png" alt="image-20200608231638335"></p>
<h3 id="5æ·»åŠ searchç»„ä»¶">5.æ·»åŠ searchç»„ä»¶</h3>
<p>æˆ‘ä»¬éœ€è¦åœ¨ä¸»é¢˜é‡Œæ–°å»ºä¸€ä¸ªsearch.htmlæ¥è¾“å…¥æœç´¢æ¡ä»¶å’Œæ˜¾ç¤ºæœç´¢ç»“æœï¼Œåœ¨ä¸»é¢˜åˆé€‚çš„ä½ç½®ï¼ˆæ¯”å¦‚<code>layouts/partials</code> ç›®å½•ä¸‹ï¼‰æ–°å»ºsearch.htmlï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>&lt;<span style="color:#ff79c6">link</span> <span style="color:#50fa7b">rel</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;stylesheet&#34;</span> <span style="color:#50fa7b">href</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css&#34;</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    &lt;<span style="color:#ff79c6">div</span> <span style="color:#50fa7b">class</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;search&#34;</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>        &lt;<span style="color:#ff79c6">input</span> <span style="color:#50fa7b">type</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;search&#34;</span> <span style="color:#50fa7b">class</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;docsearch-input search-input&#34;</span> <span style="color:#50fa7b">placeholder</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;æœç´¢å…³é”®è¯&#34;</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    &lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>&lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>&lt;<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    docsearch({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    apiKey<span style="color:#ff79c6">:</span><span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.searchOnlyKey }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    indexName<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.indexName }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    appId<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.appId }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    inputSelector<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;.docsearch-input&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    debug<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">false</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    <span style="color:#6272a4">// hitsPerPage: 5,
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#6272a4"></span>    });
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>&lt;/<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>&lt;<span style="color:#ff79c6">style</span>&gt;
</code></pre></div><h3 id="6å¼•å…¥searchç»„ä»¶">6.å¼•å…¥searchç»„ä»¶</h3>
<p>åœ¨åˆé€‚çš„ä½ç½®æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{- partial &#34;sidebar.html&#34; . -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>{{- if .Site.Params.algolia.appId -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>{{ partial &#34;taxonomy/search.html&#34; . }}  è·¯å¾„æ ¹æ®è‡ªå·±çš„æ¥
</code></pre></div><p>å°±å¯ä»¥åœ¨é¡µé¢æ˜¾ç¤ºå‡ºæœç´¢æ¡†ï¼Œè¾“å…¥å†…å®¹å°±ä¼šæ˜¾ç¤ºåŒ¹é…çš„æ–‡ç« ã€‚</p>
<h3 id="7ä¿®æ”¹é»˜è®¤æ ·å¼">7.ä¿®æ”¹é»˜è®¤æ ·å¼</h3>
<p>algolia Docsearchè¿”å›çš„ä¸‹æ‹‰åˆ—è¡¨æ˜¯è‡ªå¸¦æ ·å¼çš„ï¼Œå¦‚æœå’Œæˆ‘ä»¬çš„ä¸»é¢˜ä¸ç¬¦ï¼Œå¯ä»¥åœ¨CSSé‡Œè‡ªå®šä¹‰ä»¥ä¸‹å‡ ä¸ªç±»ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>.<span style="color:#50fa7b">algolia-autocomplete</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">ds-dropdown-menu</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#6272a4">/* æ–‡ç« é¢˜ç›® */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--category-header</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4">/* æ ‡ç­¾ */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--subcategory-column</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#6272a4">/* æ‘˜è¦ */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--title</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span style="color:#6272a4">/* å†…å®¹ */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--text</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--highlight</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>}
</code></pre></div><h3 id="8é«˜çº§é€‰é¡¹">8.é«˜çº§é€‰é¡¹</h3>
<p>æ·»åŠ å‰ç«¯UIä¹Ÿå¯ä»¥é€šè¿‡Algoliaçš„autocomplete.js å’Œ instantsearch.js å®šåˆ¶æ€§æ›´å¼ºï¼Œé€‚åˆå‰ç«¯é«˜æ‰‹ä½¿ç”¨ã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a href="https://www.algolia.com/doc/">https://www.algolia.com/doc/</a></p>
<p><a href="https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/">https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/</a></p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/%20categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/%20tags/hugo/">hugo</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/" data-tooltip="å¾®ä¿¡å°ç¨‹åºå¼€å‘åŸºç¡€">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/vue-%E7%AE%80%E4%BB%8B/" data-tooltip="vue ç®€ä»‹">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="æœç´¢å…³é”®è¯" id="search-input" />
    <div id="loading" class="loading-container">
        <span>æœç´¢ä¸­...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: query => {
            document.querySelector('#loading').classList.add('show');
            
        },
        transformData: tips => {
            document.querySelector('#loading').classList.remove('show');
        }
    });
</script>
    </div>
</body>






<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.475bed0eaab81fe193c11f638f5ce7b57e39559626a30b5d2827a5a48f5ee4d9c3d08f5bcf8b3e00e030a789b19053577e71c6aedda840d292e3eaa4956f0fc0.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>