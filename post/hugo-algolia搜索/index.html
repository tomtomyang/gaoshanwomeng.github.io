<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  hugo algolia搜索 </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" hugo algolia搜索 " />
    <meta name="keywords" itemprop="keywords"
        content=" [hugo algolia] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.09c943b7156acb895e836b904b03210ebb20cff98bfa84a5bb45c19c520b3b5d.css" integrity="" type="text/css">
</head><body class="animated fadeInDown">
<div class="main">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>目录</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1algolia%e7%ae%80%e4%bb%8b" class="toc-link" data-anchorId="1algolia简介">1.algolia简介</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2algolia%e5%87%86%e5%a4%87" class="toc-link" data-anchorId="2algolia准备">2.algolia准备</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e6%b3%a8%e5%86%8c%e8%b4%a6%e5%8f%b7" class="toc-link" data-anchorId="1注册账号">1.注册账号</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e6%96%b0%e5%bb%baindices" class="toc-link" data-anchorId="2新建indices">2.新建Indices</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e8%8e%b7%e5%8f%96api-keys" class="toc-link" data-anchorId="3获取api-keys">3.获取API Keys</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3blog%e9%85%8d%e7%bd%ae" class="toc-link" data-anchorId="3blog配置">3.blog配置</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e4%bf%ae%e6%94%b9configtoml" class="toc-link" data-anchorId="1修改configtoml">1.修改config.toml</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e6%96%b0%e5%bb%bajson%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="2新建json文件">2.新建.json文件</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e7%94%9f%e6%88%90json%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="3生成json文件">3.生成.json文件</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#4%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="4上传文件">4.上传文件</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#1%e5%ae%89%e8%a3%85-atomic-algolia" class="toc-link" data-anchorId="1安装-atomic-algolia">1.安装 atomic-algolia</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#2%e9%85%8d%e7%bd%aepackagejson" class="toc-link" data-anchorId="2配置packagejson">2.配置package.json</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#3%e9%85%8d%e7%bd%aeenv%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="3配置env文件">3.配置.env文件</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#4%e4%b8%8a%e4%bc%a0%e6%96%87%e4%bb%b6" class="toc-link" data-anchorId="4上传文件">4.上传文件</a>
                </li>
                
                        </ul><li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#5%e6%b7%bb%e5%8a%a0search%e7%bb%84%e4%bb%b6" class="toc-link" data-anchorId="5添加search组件">5.添加search组件</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#6%e5%bc%95%e5%85%a5search%e7%bb%84%e4%bb%b6" class="toc-link" data-anchorId="6引入search组件">6.引入search组件</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#7%e4%bf%ae%e6%94%b9%e9%bb%98%e8%ae%a4%e6%a0%b7%e5%bc%8f" class="toc-link" data-anchorId="7修改默认样式">7.修改默认样式</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-algolia%E6%90%9C%E7%B4%A2/#8%e9%ab%98%e7%ba%a7%e9%80%89%e9%a1%b9" class="toc-link" data-anchorId="8高级选项">8.高级选项</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">hugo algolia搜索</span>
        
        <div class="info">
          <span>📅 2020-06-08</span>
          <span>👦 Tomtom Young</span>
          <span>📖 1740字</span>
          <span>⏱ 4分钟</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1algolia简介">1.algolia简介</h3>
<blockquote>
<p>Algolia是一家为网站与移动应用提供托管式搜索API的初创企业，Algolia的服务支持多种语言支持Ruby、Rails、Python、PHP、JS、Java、Android、Objective-C等多种语言，具备关键字输入智能容错功能，并提供有搜索排名配置，并具有实时快速的特点（Algolia在全球12个数据中心均有部署）。Algolia还为移动设备提供了离线搜索引擎，其C++ SDK可以嵌入到应用服务器端，这样即便没有网络连接应用也能提供搜索功能。</p>
</blockquote>
<p>aligolia提供很多服务，其中的Docsearch是完全免费的，因为他们觉得，任何人都应该能够有能力构建方便搜索的文档，因此我们就使用Docsearch来构建博客的站内搜索功能。</p>
<h3 id="2algolia准备">2.algolia准备</h3>
<h4 id="1注册账号">1.注册账号</h4>
<p>进入algolia官网进行注册，地址：<a href="https://www.algolia.com/">https://www.algolia.com/</a>。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608225121741.png" alt="image-20200608225121741"></p>
<p>新注册的账号有14天的体验期，可以使用任何功能，过了这段时间只能使用免费的功能，具体的限制应该是免费账户总共有 10,000 条记录，每月有 100,000 的可以操作数。</p>
<h4 id="2新建indices">2.新建Indices</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608225652900.png" alt="image-20200608225652900"></p>
<p>在indices里新建一个索引。</p>
<h4 id="3获取api-keys">3.获取API Keys</h4>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/15765569-9fa0e5844f871007" alt=""></p>
<h3 id="3blog配置">3.blog配置</h3>
<h4 id="1修改configtoml">1.修改config.toml</h4>
<p>打开congig.toml，在里面填写一下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>[outputs]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    home = [<span style="color:#f1fa8c">&#34;HTML&#34;</span>, <span style="color:#f1fa8c">&#34;RSS&#34;</span>, <span style="color:#f1fa8c">&#34;Algolia&#34;</span>]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>[outputFormats.Algolia]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  baseName = <span style="color:#f1fa8c">&#34;algolia&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  isPlainText = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  mediaType = <span style="color:#f1fa8c">&#34;application/json&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  notAlternative = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>[params.algolia]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  appId = <span style="color:#f1fa8c">&#34;你的Application ID&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  indexName = <span style="color:#f1fa8c">&#34;你的索引名字&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  searchOnlyKey = <span style="color:#f1fa8c">&#34;你的Search-Only API Key&#34;</span>
</code></pre></div><h4 id="2新建json文件">2.新建.json文件</h4>
<p>打开主题目录，或者根目录，在layouts/_default (没有就新建) 文件夹中新建 list.algolia.json 文件，写入以下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{/* 生成Algolia搜索索引文件 */}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>{{- $.Scratch.Add <span style="color:#ff79c6">&#34;index&#34;</span> slice -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>{{/* content/posts或content/post目录下的博文才生成索引 */}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>{{- range where (where .Site.Pages <span style="color:#ff79c6">&#34;Type&#34;</span> <span style="color:#f1fa8c">&#34;in&#34;</span> (slice <span style="color:#f1fa8c">&#34;posts&#34;</span> <span style="color:#f1fa8c">&#34;post&#34;</span>)) <span style="color:#f1fa8c">&#34;IsPage&#34;</span> <span style="color:#ff79c6">true</span> -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  {{- if and (not .Draft) (not .Params.private) -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    {{- $.Scratch.Add <span style="color:#ff79c6">&#34;index&#34;</span> (dict <span style="color:#f1fa8c">&#34;objectID&#34;</span> .File.UniqueID <span style="color:#f1fa8c">&#34;url&#34;</span> .Permalink <span style="color:#f1fa8c">&#34;content&#34;</span> (.Summary | plainify) <span style="color:#f1fa8c">&#34;tags&#34;</span> .Params.Tags <span style="color:#f1fa8c">&#34;lvl0&#34;</span> .Title <span style="color:#f1fa8c">&#34;lvl1&#34;</span> .Params.Categories <span style="color:#f1fa8c">&#34;lvl2&#34;</span> <span style="color:#f1fa8c">&#34;摘要&#34;</span>) -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>  {{- end -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>{{- end -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>{{- $.Scratch.Get <span style="color:#ff79c6">&#34;index&#34;</span> | jsonify -}}
</code></pre></div><h4 id="3生成json文件">3.生成.json文件</h4>
<p>执行hugo -D，在public文件夹中会出现一个algolia.json文件，打开看一下是不是空的，如果不是空的就说明生成的没有问题。</p>
<h3 id="4上传文件">4.上传文件</h3>
<p>我们需要将生成的algolia.json文件上传到建好的indecis里，一般有手动上传和自动上传，果断选择自动上传。</p>
<h4 id="1安装-atomic-algolia">1.安装 atomic-algolia</h4>
<p>在博客的根目录下，执行以下操作：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>npm init  // 不懂的就回车好了
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>npm install atomic-algolia --save
</code></pre></div><p>会在根目录下生成三个文件，node_modules，package.json，package-lock.json。</p>
<h4 id="2配置packagejson">2.配置package.json</h4>
<p>在package.json里写入：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#f1fa8c">&#34;scripts&#34;</span>: {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    <span style="color:#ff79c6">&#34;test&#34;</span>: <span style="color:#f1fa8c">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#ff79c6">&#34;algolia&#34;</span>: <span style="color:#f1fa8c">&#34;atomic-algolia&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>},
</code></pre></div><h4 id="3配置env文件">3.配置.env文件</h4>
<p>在根目录下新建一个.env文件，并写入以下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>ALGOLIA_APP_ID=你的Application ID
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>ALGOLIA_INDEX_NAME=你的索引名字
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>ALGOLIA_INDEX_FILE=public/algolia.json
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>ALGOLIA_ADMIN_KEY=你的Admin API Key
</code></pre></div><h4 id="4上传文件-1">4.上传文件</h4>
<p>在根目录下运行npm run algolia，如果出现以下内容说明没有问题：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/C6u38blAWG7Xnke.png" alt=""></p>
<p>返回algolia网站的控制台，在indices里可以看到我们上传上去的数据：</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20200608231638335.png" alt="image-20200608231638335"></p>
<h3 id="5添加search组件">5.添加search组件</h3>
<p>我们需要在主题里新建一个search.html来输入搜索条件和显示搜索结果，在主题合适的位置（比如<code>layouts/partials</code> 目录下）新建search.html，并写入以下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>&lt;<span style="color:#ff79c6">link</span> <span style="color:#50fa7b">rel</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;stylesheet&#34;</span> <span style="color:#50fa7b">href</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css&#34;</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    &lt;<span style="color:#ff79c6">div</span> <span style="color:#50fa7b">class</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;search&#34;</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>        &lt;<span style="color:#ff79c6">input</span> <span style="color:#50fa7b">type</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;search&#34;</span> <span style="color:#50fa7b">class</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;docsearch-input search-input&#34;</span> <span style="color:#50fa7b">placeholder</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;搜索关键词&#34;</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    &lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>&lt;<span style="color:#ff79c6">script</span> <span style="color:#50fa7b">src</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js&#34;</span>&gt;&lt;/<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>&lt;<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    docsearch({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    apiKey<span style="color:#ff79c6">:</span><span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.searchOnlyKey }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    indexName<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.indexName }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    appId<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;{{ .Site.Params.algolia.appId }}&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    inputSelector<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;.docsearch-input&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    debug<span style="color:#ff79c6">:</span> <span style="color:#ff79c6">false</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    <span style="color:#6272a4">// hitsPerPage: 5,
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#6272a4"></span>    });
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>&lt;/<span style="color:#ff79c6">script</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>&lt;<span style="color:#ff79c6">style</span>&gt;
</code></pre></div><h3 id="6引入search组件">6.引入search组件</h3>
<p>在合适的位置添加以下内容：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{- partial &#34;sidebar.html&#34; . -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>{{- if .Site.Params.algolia.appId -}}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>{{ partial &#34;taxonomy/search.html&#34; . }}  路径根据自己的来
</code></pre></div><p>就可以在页面显示出搜索框，输入内容就会显示匹配的文章。</p>
<h3 id="7修改默认样式">7.修改默认样式</h3>
<p>algolia Docsearch返回的下拉列表是自带样式的，如果和我们的主题不符，可以在CSS里自定义以下几个类：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>.<span style="color:#50fa7b">algolia-autocomplete</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">ds-dropdown-menu</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#6272a4">/* 文章题目 */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--category-header</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4">/* 标签 */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--subcategory-column</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#6272a4">/* 摘要 */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--title</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span style="color:#6272a4">/* 内容 */</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--text</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>.<span style="color:#50fa7b">algolia-autocomplete</span> .<span style="color:#50fa7b">algolia-docsearch-suggestion--highlight</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>}
</code></pre></div><h3 id="8高级选项">8.高级选项</h3>
<p>添加前端UI也可以通过Algolia的autocomplete.js 和 instantsearch.js 定制性更强，适合前端高手使用。</p>
<p>参考：</p>
<p><a href="https://www.algolia.com/doc/">https://www.algolia.com/doc/</a></p>
<p><a href="https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/">https://edward852.github.io/post/hugo%E6%B7%BB%E5%8A%A0algolia%E6%90%9C%E7%B4%A2%E6%94%AF%E6%8C%81/</a></p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/%20categories/%E5%8D%9A%E5%AE%A2/">博客</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/%20tags/hugo/">hugo</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/" data-tooltip="微信小程序开发基础">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/vue-%E7%AE%80%E4%BB%8B/" data-tooltip="vue 简介">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="搜索关键词" id="search-input" />
    <div id="loading" class="loading-container">
        <span>搜索中...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: query => {
            document.querySelector('#loading').classList.add('show');
            
        },
        transformData: tips => {
            document.querySelector('#loading').classList.remove('show');
        }
    });
</script>
    </div>
</body>






<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.475bed0eaab81fe193c11f638f5ce7b57e39559626a30b5d2827a5a48f5ee4d9c3d08f5bcf8b3e00e030a789b19053577e71c6aedda840d292e3eaa4956f0fc0.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>