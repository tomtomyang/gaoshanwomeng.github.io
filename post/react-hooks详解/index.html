<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  react Hooksè¯¦è§£ </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.74.3" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" react Hooksè¯¦è§£ " />
    <meta name="keywords" itemprop="keywords"
        content=" [react Hooks] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/react-hooks%E8%AF%A6%E8%A7%A3/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.d3105484ab1af6af37b65225e214199cc648cfba5e7e2808585a08a35f422e28.css" integrity="" type="text/css">
    
    
    <script type="text/javascript" src="https://tomtomyoung.top/js/docsearch.min.69f8ad33daa0ba1950834aaf16111d935f6a7e2b03db2cc2ae537724142b2719782bcea9aba5996af27f6f94a8365b6575ce2eff90506c2bba9aa0411587116c.js" integrity=""></script>
</head><body class="animated fadeInDown">
<div class="main"><div class="percentage_container">
    <div class="percentage" id="percentage"></div>
</div><div class="toc sub-container">
    <div class="toc-header">
        <span>ç›®å½•</span>
    </div><ul class="toc-h2"><li>
                <span class="toc-link">1. Hooks ç”¨é€”</span>
            </li>
            <li>
                <span class="toc-link">2. Hooks è§£å†³çš„é—®é¢˜</span>
            </li>
            <li>
                <span class="toc-link">3. ä½¿ç”¨ Hooks</span>
            </li>
            
                    <ul class="toc-h3"><li>
                <span class="toc-link">1. useState()</span>
            </li>
            <li>
                <span class="toc-link">2. useReducer()</span>
            </li>
            <li>
                <span class="toc-link">3. useContext()</span>
            </li>
            <li>
                <span class="toc-link">4. useEffect()</span>
            </li>
            <li>
                <span class="toc-link">5. useMemo()</span>
            </li>
            <li>
                <span class="toc-link">6. memo æ–¹æ³•</span>
            </li>
            <li>
                <span class="toc-link">7. useCallback()</span>
            </li>
            <li>
                <span class="toc-link">8. useRef()</span>
            </li>
            <li>
                <span class="toc-link">9. è‡ªå®šä¹‰ Hook</span>
            </li>
            </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">react Hooksè¯¦è§£</span>
        
        <div class="info">
          <span>ğŸ“… 2021-09-08</span>
          <span>ğŸ‘¦ Tomtom Young</span>
          <span>ğŸ“– 2789å­—</span>
          <span>â± 6åˆ†é’Ÿ</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <blockquote>
<p>å‚è€ƒï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/363957969">React Hooks è¯¦è§£</a></p>
</blockquote>
<h2 id="1-hooks-ç”¨é€”">1. Hooks ç”¨é€”</h2>
<p>å¯¹å‡½æ•°å‹ç»„ä»¶è¿›è¡Œå¢å¼ºï¼Œè®©å‡½æ•°å‹ç»„ä»¶å¯ä»¥å­˜å‚¨çŠ¶æ€ï¼Œå¯ä»¥æ‹¥æœ‰å¤„ç†å‰¯ä½œç”¨çš„èƒ½åŠ›ï¼Œè®©å¼€å‘è€…åœ¨ä¸ä½¿ç”¨ç±»ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œå®ç°ç›¸åŒçš„åŠŸèƒ½ã€‚</p>
<h2 id="2-hooks-è§£å†³çš„é—®é¢˜">2. Hooks è§£å†³çš„é—®é¢˜</h2>
<p>Hooksçš„è¯ç”Ÿï¼Œæ˜¯ä¸ºäº†å¯¹å‡½æ•°ç»„ä»¶è¿›è¡ŒåŠ å¼ºï¼Œä½¿ç”¨å‡½æ•°ç»„ä»¶è§£å†³ç±»ç»„ä»¶å­˜åœ¨çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ol>
<li>ç¼ºå°‘é€»è¾‘å¤ç”¨çš„æœºåˆ¶ï¼š</li>
</ol>
<p>ä¸ºäº†å¤ç”¨é€»è¾‘å¢åŠ æ— å®é™…æ¸²æŸ“æ•ˆæœçš„ç»„ä»¶ï¼Œå¢åŠ äº†ç»„ä»¶å±‚çº§ï¼Œæ˜¾ç¤ºååˆ†è‡ƒè‚¿ï¼Œå¢åŠ äº†è°ƒè¯•çš„éš¾åº¦ä»¥åŠè¿è¡Œæ•ˆç‡çš„é™ä½ï¼›</p>
<ol start="2">
<li>
<p>ç±»ç»„ä»¶ç»å¸¸ä¼šå˜å¾—å¾ˆå¤æ‚éš¾ä»¥ç»´æŠ¤ï¼š</p>
<p>å°†ä¸€ç»„ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘æ‹†åˆ†åˆ°äº†å¤šä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­ï¼Œåœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å†…ï¼Œå­˜åœ¨å¤šä¸ªä¸ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘ï¼›</p>
</li>
<li>
<p>ç±»æˆå‘˜æ–¹æ³•ä¸èƒ½ä¿è¯ this æŒ‡å‘çš„æ­£ç¡®æ€§ï¼›</p>
</li>
</ol>
<p>å…³äºç±»ç»„ä»¶çš„ä¸€äº›ç¼ºç‚¹ï¼Œåœ¨ã€Šreact å‡½æ•°ç»„ä»¶è¯¦è§£ã€‹ä¸­æœ‰ä»‹ç»ã€‚</p>
<h2 id="3-ä½¿ç”¨-hooks">3. ä½¿ç”¨ Hooks</h2>
<p>Hooks æ„ä¸ºé’©å­ï¼Œ React Hooks å°±æ˜¯ä¸€å †é’©å­å‡½æ•°ï¼Œ React é€šè¿‡è¿™äº›é’©å­å‡½æ•°å¯¹å‡½æ•°å‹ç»„ä»¶è¿›è¡Œå¢å¼ºï¼Œä¸åŒçš„é’©å­å‡½æ•°æä¾›äº†ä¸åŒçš„åŠŸèƒ½ã€‚</p>
<h3 id="1-usestate">1. useState()</h3>
<p>ç”¨äºä¸ºå‡½æ•°ç»„ä»¶å¼•å…¥çŠ¶æ€ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> {useState} from <span style="color:#f1fa8c">&#39;react&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#8be9fd;font-style:italic">function</span> App() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{count}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{()=&gt;setCount(count<span style="color:#ff79c6">+</span><span style="color:#bd93f9">1</span>)}<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span><span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  );
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> App;
</code></pre></div><p>æ¥å—å”¯ä¸€çš„å‚æ•°å³çŠ¶æ€åˆå§‹å€¼ï¼Œåˆå§‹å€¼å¯ä»¥æ˜¯ä»»æ„æ•°æ®ç±»å‹ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#ff79c6">const</span> [person, setPerson] <span style="color:#ff79c6">=</span> useState({ name<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;å¼ ä¸‰&#39;</span>, age<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">20</span> })
</code></pre></div><p>è¿”å›å€¼ä¸ºæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜å‚¨å€¼å’Œæ›´æ”¹çŠ¶æ€å€¼çš„æ–¹æ³•ï¼Œæ–¹æ³•åç§°çº¦å®šä»¥ set å¼€å¤´ï¼Œåé¢åŠ ä¸ŠçŠ¶æ€åç§°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
</code></pre></div><p>æ–¹æ³•å¯ä»¥è¢«è°ƒç”¨å¤šæ¬¡ï¼Œç”¨ä»¥ä¿å­˜ä¸åŒçŠ¶æ€å€¼ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>&lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{()=&gt;setCount(count<span style="color:#ff79c6">+</span><span style="color:#bd93f9">1</span>)}&gt; <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>&lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{()=&gt;setPerson({name<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;æå››&#39;</span>, age<span style="color:#ff79c6">:</span> <span style="color:#bd93f9">30</span>})}&gt;setPerson&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>&lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{()=&gt;setPerson({...person, name<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;æå››&#39;</span>})}&gt;setPerson&lt;/<span style="color:#ff79c6">button</span>&gt;
</code></pre></div><p>å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Œåˆå§‹çŠ¶æ€å€¼å°±æ˜¯ä»€ä¹ˆï¼Œå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œåœ¨åˆå§‹å€¼æ˜¯åŠ¨æ€å€¼çš„æƒ…å†µï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#6272a4">// å½“åˆå§‹å€¼æ˜¯åŠ¨æ€å€¼
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#6272a4">// è¿™æ ·å†™æ¯æ¬¡æ¸²æŸ“éƒ½ä¼šæ‰§è¡Œ
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> propsCount <span style="color:#ff79c6">=</span> props.count <span style="color:#ff79c6">||</span> <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span style="color:#6272a4">// const [count, setCount] = useState(propsCount)
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span><span style="color:#6272a4">// åº”è¯¥è¿™æ ·å†™
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span><span style="color:#6272a4"></span><span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(() =&gt; {x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>  <span style="color:#ff79c6">return</span> props.count <span style="color:#ff79c6">||</span> <span style="color:#bd93f9">0</span> <span style="color:#6272a4">// åªæœ‰ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œ
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span style="color:#6272a4"></span>})
</code></pre></div><p>è®¾ç½®çŠ¶æ€å€¼æ–¹æ³•çš„å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè®¾ç½®çŠ¶æ€å€¼æ–¹æ³•çš„æ–¹æ³•æœ¬èº«æ˜¯å¼‚æ­¥çš„ï¼Œå¦‚æœä»£ç ä¾èµ–çŠ¶æ€å€¼ï¼Œé‚£è¦å†™åœ¨å›è°ƒå‡½æ•°ä¸­ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">function</span> handleCount () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  setCount((count) =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#ff79c6">const</span> newCount <span style="color:#ff79c6">=</span> count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    <span style="color:#8be9fd;font-style:italic">document</span>.title <span style="color:#ff79c6">=</span> newCount
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    <span style="color:#ff79c6">return</span> newCount
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>  })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span>&lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{handleCount}&gt; <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>&lt;/<span style="color:#ff79c6">button</span>&gt;
</code></pre></div><h3 id="2-usereducer">2. useReducer()</h3>
<p>useReducer æ˜¯å¦ä¸€ç§è®©å‡½æ•°ç»„ä»¶ä¿å­˜çŠ¶æ€çš„æ–¹å¼ï¼Œå¯ä»¥å°† dispatch ä¼ ç»™å­ç»„ä»¶ä½¿ç”¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useReducer } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#8be9fd;font-style:italic">function</span> reducer (state, action) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    <span style="color:#ff79c6">switch</span> (action.type) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>      <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#39;increment&#39;</span><span style="color:#ff79c6">:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>        <span style="color:#ff79c6">return</span> state <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>      <span style="color:#ff79c6">case</span> <span style="color:#f1fa8c">&#39;decrement&#39;</span><span style="color:#ff79c6">:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>        <span style="color:#ff79c6">return</span> state <span style="color:#ff79c6">-</span> <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>      <span style="color:#ff79c6">default</span><span style="color:#ff79c6">:</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>        <span style="color:#ff79c6">return</span> state;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  <span style="color:#ff79c6">const</span> [count, dispatch] <span style="color:#ff79c6">=</span> useReducer(reducer, <span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    &lt;<span style="color:#ff79c6">div</span>&gt;x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>      &lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{() =&gt; dispatch({type<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;decrement&#39;</span>})}&gt;<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span>&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>      &lt;<span style="color:#ff79c6">span</span>&gt;{count}&lt;/<span style="color:#ff79c6">span</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>      &lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{() =&gt; dispatch({type<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;increment&#39;</span>})}&gt;<span style="color:#ff79c6">+</span><span style="color:#bd93f9">1</span>&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>    &lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>}
</code></pre></div><h3 id="3-usecontext">3. useContext()</h3>
<p>åœ¨è·¨ç»„ä»¶å±‚çº§è·å–æ•°æ®æ—¶ç®€åŒ–è·å–æ•°æ®çš„ä»£ç </p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { createContext, useContext } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">const</span> countContext <span style="color:#ff79c6">=</span> createContext()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    &lt;<span style="color:#ff79c6">countContext.Provider</span> <span style="color:#50fa7b">value</span><span style="color:#ff79c6">=</span>{<span style="color:#bd93f9">1000</span>}&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>      &lt;<span style="color:#ff79c6">Foo</span> /&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    &lt;/<span style="color:#ff79c6">countContext.Provider</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#8be9fd;font-style:italic">function</span> Foo () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#ff79c6">const</span> value <span style="color:#ff79c6">=</span> useContext(countContext)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>  <span style="color:#ff79c6">return</span> (x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>    &lt;<span style="color:#ff79c6">div</span>&gt;I am Foo {value}&lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>}
</code></pre></div><h3 id="4-useeffect">4. useEffect()</h3>
<p>è®©å‡½æ•°å‹ç»„ä»¶æ‹¥æœ‰å¤„ç†å‰¯ä½œç”¨çš„èƒ½åŠ›ï¼Œç±»ä¼¼ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
<ol>
<li>useEffect æ‰§è¡Œæœºåˆ¶</li>
</ol>
<p>å¯ä»¥æŠŠ useEffect çœ‹åš componentDidMount, componentDidUpdate å’Œ componentWillUnmount è¿™ä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ</p>
<p>useEffect(() =&gt; {}) =&gt; componentDidMount, componentDidUpdate useEffect(() =&gt; {}, []) =&gt; componentDidMount useEffect(() =&gt; () =&gt; {}) =&gt; componentDidUpdate, componentWillUnmount useEffect(() =&gt; () =&gt; {}, []) =&gt; componentWillUnmount</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useEffect, useState } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6">import</span> ReactDOM from <span style="color:#f1fa8c">&#39;react-dom&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  <span style="color:#6272a4">// ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åæ‰§è¡Œï¼Œç»„ä»¶æ•°æ®æ›´æ–°ä¹‹åæ‰§è¡Œ
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// useEffect(() =&gt; {
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">//   console.log(&#39;123&#39;)
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// })
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#6272a4">// ç»„ä»¶æŒ‚è½½å®Œæˆä¹‹åæ‰§è¡Œ
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// useEffect(() =&gt; {
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">//   console.log(&#39;456&#39;)
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span style="color:#6272a4"></span>  <span style="color:#6272a4">// }, [])
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#6272a4"></span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    <span style="color:#ff79c6">return</span> () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>      console.log(<span style="color:#f1fa8c">&#39;ç»„ä»¶è¢«å¸è½½äº†&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>  })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>    &lt;<span style="color:#ff79c6">div</span>&gt;x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>    &lt;<span style="color:#ff79c6">span</span>&gt;{count}&lt;/<span style="color:#ff79c6">span</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>    &lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{() =&gt; setCount(count<span style="color:#ff79c6">+</span><span style="color:#bd93f9">1</span>)}&gt;<span style="color:#ff79c6">+</span><span style="color:#bd93f9">1</span>&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>    &lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{() =&gt; ReactDOM.unmountComponentAtNode(<span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;root&#39;</span>))}&gt;å¸è½½ç»„ä»¶&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>    &lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>}
</code></pre></div><ol>
<li>useEffect ä½¿ç”¨æ–¹æ³•</li>
</ol>
<p>(1). ä¸º window å¯¹è±¡æ·»åŠ æ»šåŠ¨äº‹ä»¶ (2). è®¾ç½®å®šæ—¶å™¨è®© count æ•°å€¼æ¯éš”ä¸€ç§’å¢åŠ  1</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-jsx" data-lang="jsx"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useEffect, useState } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6">import</span> ReactDOM from <span style="color:#f1fa8c">&#39;react-dom&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#8be9fd;font-style:italic">function</span> onScroll () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    console.log(<span style="color:#f1fa8c">&#39;é¡µé¢æ»šåŠ¨äº†&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    <span style="color:#8be9fd;font-style:italic">window</span>.addEventListener(<span style="color:#f1fa8c">&#39;scroll&#39;</span>, onScroll)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    <span style="color:#ff79c6">return</span> () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>      <span style="color:#8be9fd;font-style:italic">window</span>.removeEventListener(<span style="color:#f1fa8c">&#39;scroll&#39;</span>, onScroll)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  }, [])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    <span style="color:#ff79c6">const</span> timerId <span style="color:#ff79c6">=</span> setInterval(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>      setCount(count =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>        <span style="color:#ff79c6">const</span> newCount <span style="color:#ff79c6">=</span> count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>        <span style="color:#8be9fd;font-style:italic">document</span>.title <span style="color:#ff79c6">=</span> newCount
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>        <span style="color:#ff79c6">return</span> newCount
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>      })
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>    }, <span style="color:#bd93f9">1000</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>    <span style="color:#ff79c6">return</span> () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>      clearTimeout(timerId)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>  }, [])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span>    &lt;<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span>      &lt;<span style="color:#ff79c6">span</span>&gt;{count}&lt;/<span style="color:#ff79c6">span</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span>      &lt;<span style="color:#ff79c6">button</span> <span style="color:#50fa7b">onClick</span><span style="color:#ff79c6">=</span>{() =&gt; { ReactDOM.unmountComponentAtNode(<span style="color:#8be9fd;font-style:italic">document</span>.getElementById(<span style="color:#f1fa8c">&#39;root&#39;</span>)) }} &gt;å¸è½½ç»„ä»¶&lt;/<span style="color:#ff79c6">button</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span>    &lt;/<span style="color:#ff79c6">div</span>&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span>  )x
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span>}
</code></pre></div><ol>
<li>useEffect è§£å†³çš„é—®é¢˜ (1). æŒ‰ç…§ç”¨é€”å°†ä»£ç è¿›è¡Œåˆ†ç±»ï¼ˆå°†ä¸€ç»„ç›¸åŒçš„ä¸šåŠ¡é€»è¾‘å½’ç½®åˆ°äº†åŒä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°ä¸­ï¼‰ (2). ç®€åŒ–é‡å¤ä»£ç ï¼Œæ˜¯ç»„ä»¶å†…éƒ¨ä»£ç æ›´åŠ æ¸…æ™°</li>
<li>åªæœ‰æŒ‡å®šæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘ effect</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useEffect, useState } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">const</span> [person, setPerson] <span style="color:#ff79c6">=</span> useState({name<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;å¼ ä¸‰&#39;</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    <span style="color:#6272a4">// person çš„å˜åŒ–ä¸ä¼šè§¦å‘ useEffect , å› ä¸ºç¬¬äºŒä¸ªæ•°ç»„å‚æ•°ä¸­åªç›‘å¬äº† count
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#6272a4"></span>    <span style="color:#8be9fd;font-style:italic">document</span>.title <span style="color:#ff79c6">=</span> count
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    console.log(<span style="color:#bd93f9">111</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  }, [count])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{count}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; setCount(count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>)}<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span><span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; setPerson({name<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;æå››&#39;</span>})}<span style="color:#ff79c6">&gt;</span>setPerson<span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>}
</code></pre></div><ol>
<li>useEffect é’©å­å‡½æ•°ç»“åˆå¼‚æ­¥å‡½æ•° useEffect ä¸­çš„å‚æ•°å‡½æ•°ä¸èƒ½æ˜¯å¼‚æ­¥å‡½æ•°ï¼Œå› ä¸º useEffect å‡½æ•°è¦è¿”å›æ¸…ç†èµ„æºçš„å‡½æ•°ï¼Œå¦‚æœæ˜¯å¼‚æ­¥å‡½æ•°å°±å˜æˆäº†è¿”å› Promise. å¯ä»¥å†™æˆè‡ªæ‰§è¡Œå‡½æ•°çš„å½¢å¼ï¼š</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    (async () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>      await axios.get()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    })()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  }, [])
</code></pre></div><h3 id="5-usememo">5. useMemo()</h3>
<p>useMemo çš„è¡Œä¸ºç±»ä¼¼ Vue ä¸­çš„è®¡ç®—å±æ€§ï¼Œå¯ä»¥æ£€æµ‹æŸä¸ªå€¼çš„å˜åŒ–ï¼Œæ ¹æ®å˜åŒ–åªè®¡ç®—æ–°å€¼ã€‚ useMemo ä¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œå¦‚æœæ£€æµ‹å­æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼ŒåŠæ—¶ç»„å»ºé‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¸ä¼šé‡æ–°è®¡ç®—ï¼Œæ­¤è¡Œä¸ºå¯ä»¥æœ‰åŠ©äºé¿å…åœ¨æ¯ä¸ªæ¸²æŸ“ä¸Šè¿›è¡Œæ˜‚è´µçš„è®¡ç®—ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useState, useMemo } from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">const</span> [bool, setBool] <span style="color:#ff79c6">=</span> useState(<span style="color:#ff79c6">true</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#ff79c6">const</span> result <span style="color:#ff79c6">=</span> useMemo(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    console.log(<span style="color:#f1fa8c">&#39;111&#39;</span>) <span style="color:#6272a4">// åªæœ‰ count æ”¹å˜æ‰ä¼šé‡æ–°æ‰§è¡Œè¿™ä¸ªå›è°ƒå‡½æ•°
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">return</span> count <span style="color:#ff79c6">*</span> <span style="color:#bd93f9">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  }, [count])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{count} {result}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{bool <span style="color:#ff79c6">?</span> <span style="color:#f1fa8c">&#39;çœŸ&#39;</span> <span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;å‡&#39;</span>}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; setCount(count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>)}<span style="color:#ff79c6">&gt;</span> <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span><span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; setBool(<span style="color:#ff79c6">!</span>bool)}<span style="color:#ff79c6">&gt;</span>setBool<span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>}
</code></pre></div><h3 id="6-memo-æ–¹æ³•">6. memo æ–¹æ³•</h3>
<p>æ€§èƒ½ä¼˜åŒ–ï¼Œå¦‚æœæœ¬ç»„ä»¶ä¸­çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé˜»æ­¢ç»„ä»¶æ›´æ–°ï¼Œç±»ä¼¼ç±»ç»„ä»¶ä¸­çš„ PureComponent å’Œ shouldComponentUpdate</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#ff79c6">import</span> { memo } from <span style="color:#f1fa8c">&#39;react&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span style="color:#ff79c6">const</span> Foo <span style="color:#ff79c6">=</span> memo(<span style="color:#8be9fd;font-style:italic">function</span> Foo () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>I am Foo<span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>})
</code></pre></div><h3 id="7-usecallback">7. useCallback()</h3>
<p>æ€§èƒ½ä¼˜åŒ–ï¼Œç¼“å­˜å‡½æ•°ï¼Œä½¿ç”¨ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶å¾—åˆ°ç›¸åŒçš„å‡½æ•°å®ä¾‹ã€‚å¦åˆ™æ¯æ¬¡çˆ¶ç»„ä»¶æ¸²æŸ“ï¼Œå‡½æ•°å˜é‡çš„å®ä¾‹éƒ½ä¼šå˜åŒ–ï¼Œå¯¼è‡´é‡Œå±‚ç»„ä»¶è¢«é‡æ–°æ¸²æŸ“</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> React, { memo, useState, useCallback } from <span style="color:#f1fa8c">&#39;react&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">const</span> resetCount <span style="color:#ff79c6">=</span> useCallback(() =&gt; setCount(<span style="color:#bd93f9">0</span>), [setCount])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{count}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; setCount(count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>)}<span style="color:#ff79c6">&gt;+</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>      <span style="color:#ff79c6">&lt;</span>Counter resetCount<span style="color:#ff79c6">=</span>{resetCount}<span style="color:#ff79c6">/&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#ff79c6">const</span> Counter <span style="color:#ff79c6">=</span> memo (<span style="color:#8be9fd;font-style:italic">function</span> Counter () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  console.log(<span style="color:#f1fa8c">&#39;Foo&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>  <span style="color:#ff79c6">return</span>(
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{props.resetCount}<span style="color:#ff79c6">&gt;</span>resetCount<span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> App
</code></pre></div><h3 id="8-useref">8. useRef()</h3>
<p>è·å–DOMå…ƒç´ å¯¹è±¡</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> React, { useREf } from <span style="color:#f1fa8c">&#39;react&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">const</span> box <span style="color:#ff79c6">=</span> useRef();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#ff79c6">&lt;</span>div ref<span style="color:#ff79c6">=</span>{box}<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; console.log(box)}<span style="color:#ff79c6">&gt;</span>è·å–div<span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>}
</code></pre></div><p>ä½¿ç”¨ useRef é’©å­å‡½æ•°ä¿å­˜æ•°æ®(è·¨ç»„ä»¶å‘¨æœŸ)</p>
<p>å³ä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¿å­˜çš„æ•°æ®ä»ç„¶è¿˜åœ¨ï¼Œä¿å­˜çš„æ•°æ®è¢«æ›´æ”¹ä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> { useRef, useState, useEffect} from <span style="color:#f1fa8c">&#34;react&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> <span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">const</span> [count, setCount] <span style="color:#ff79c6">=</span> useState(<span style="color:#bd93f9">0</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#8be9fd;font-style:italic">let</span> timeId <span style="color:#ff79c6">=</span> useRef() <span style="color:#6272a4">// å¤¸ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#6272a4"></span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    <span style="color:#6272a4">// ä½¿ç”¨è¿™ä¸ª ref çš„ current å±æ€§å­˜å‚¨æ•°æ®
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#6272a4"></span>    timeId.current <span style="color:#ff79c6">=</span> setInterval(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>      setCount(count =&gt; count <span style="color:#ff79c6">+</span> <span style="color:#bd93f9">1</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    }, <span style="color:#bd93f9">1000</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  }, [])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#ff79c6">const</span> stopCount <span style="color:#ff79c6">=</span> () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>    console.log(timeId.current)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    clearInterval(timeId.current)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>  <span style="color:#ff79c6">const</span> box <span style="color:#ff79c6">=</span> useRef()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>    <span style="color:#ff79c6">&lt;</span>div ref<span style="color:#ff79c6">=</span>{box}<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>      <span style="color:#ff79c6">&lt;</span>span<span style="color:#ff79c6">&gt;</span>{count}<span style="color:#ff79c6">&lt;</span>/span&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>      <span style="color:#ff79c6">&lt;</span>button onClick<span style="color:#ff79c6">=</span>{() =&gt; stopCount()}<span style="color:#ff79c6">&gt;</span> åœæ­¢ <span style="color:#ff79c6">&lt;</span>/button&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>}
</code></pre></div><h3 id="9-è‡ªå®šä¹‰-hook">9. è‡ªå®šä¹‰ Hook</h3>
<ul>
<li>è‡ªå®šä¹‰hook æ˜¯æ ‡å‡†çš„å°è£…å’Œå…±äº«é€»è¾‘çš„æ–¹å¼</li>
<li>è‡ªå®šä¹‰hook æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä»¥use å¼€å¤´</li>
<li>è‡ªå®šä¹‰hook å…¶å®å°±æ˜¯é€»è¾‘å’Œå†…ç½®hook çš„ç»„åˆ</li>
</ul>
<p>å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰ Hook:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> React, { useEffect, useState } from <span style="color:#f1fa8c">&#39;react&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6">import</span> axios from <span style="color:#f1fa8c">&#39;axios&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#8be9fd;font-style:italic">function</span> useGetPost () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">const</span> [post, setPost] <span style="color:#ff79c6">=</span> useState({});
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  useEffect(() =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    axios.get(<span style="color:#f1fa8c">&#39;https://jsonplaceholder.typicode.com/posts/1&#39;</span>).then(response =&gt; setPost(response.data))
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  }, [])
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  <span style="color:#ff79c6">return</span> [post, setPost]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#ff79c6">const</span> [post, setPost] <span style="color:#ff79c6">=</span> useGetPost()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>    <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>      <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>{post.title}<span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>      <span style="color:#ff79c6">&lt;</span>div<span style="color:#ff79c6">&gt;</span>{post.body}<span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    <span style="color:#ff79c6">&lt;</span>/div&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> App
</code></pre></div><p>è¡¨å•æäº¤</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> React, { useState } from <span style="color:#f1fa8c">&#39;react&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#8be9fd;font-style:italic">function</span> useUpdateInput (initialValue) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">const</span> [value, setValue] <span style="color:#ff79c6">=</span> useState(initialValue);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">return</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    value,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    onChange<span style="color:#ff79c6">:</span> event =&gt; setValue(event.target.value)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#8be9fd;font-style:italic">function</span> App () {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#ff79c6">const</span> usernameInput <span style="color:#ff79c6">=</span> useUpdateInput(<span style="color:#f1fa8c">&#39;&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>  <span style="color:#ff79c6">const</span> passwordInput <span style="color:#ff79c6">=</span> useUpdateInput(<span style="color:#f1fa8c">&#39;&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>  <span style="color:#ff79c6">const</span> submitForm <span style="color:#ff79c6">=</span> () =&gt; {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>    event.preventDefault();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    console.log(useUpdateInput.value)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    console.log(passwordInput.value)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>  }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>  <span style="color:#ff79c6">return</span> (
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>    <span style="color:#ff79c6">&lt;</span>form onSubmit<span style="color:#ff79c6">=</span>{submitForm}<span style="color:#ff79c6">&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>      <span style="color:#ff79c6">&lt;</span>input type<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;text&#34;</span> name<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;username&#34;</span> {...usernameInput}<span style="color:#ff79c6">/&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>      <span style="color:#ff79c6">&lt;</span>input type<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;password&#34;</span> name<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;password&#34;</span> {...passwordInput}<span style="color:#ff79c6">/&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>      <span style="color:#ff79c6">&lt;</span>input type<span style="color:#ff79c6">=</span><span style="color:#f1fa8c">&#34;submit&#34;</span><span style="color:#ff79c6">/&gt;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>    <span style="color:#ff79c6">&lt;</span>/form&gt;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>  )
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span style="color:#ff79c6">export</span> <span style="color:#ff79c6">default</span> App
</code></pre></div><p>æœ¬æ–‡æ˜¯ æ·±å…¥react çš„ç¬¬4ç¯‡æ–‡ç« ï¼Œä¸‹ä¸€ç¯‡æ˜¯ã€Šreact JSXè¯¦è§£ã€‹ã€‚</p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/tags/react/">react</a></span>
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <i class="iconfont icon-top item-btn" id="back_top_btn"></i>
    </li>
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-switch item-btn" id="switch_btn"></i>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-search item-btn" id="search_btn"></i>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/react-%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E8%8C%83%E5%BC%8F/" data-tooltip="react å‡½æ•°å¼ç¼–ç¨‹èŒƒå¼">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="æœç´¢å…³é”®è¯" />
    <div id="loading" class="loading-container"></div>
</div>
    </div>
</body>






<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.23fcb467e1267d2c197d5b376a19d64754a5273c549b0ff6810b60cca2dd4afda8c7d8c36cf8c7d9f60a285a94e8495929e857e4f239c4e1839649cf861c27d4.js" integrity=""></script></html>