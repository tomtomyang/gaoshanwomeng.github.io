<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  hugo è‡ªå®šä¹‰ä»£ç å— </title>
    <meta charset="utf-8" /><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
    <meta name="description" itemprop="description"
        content=" hugo è‡ªå®šä¹‰ä»£ç å— " />
    <meta name="keywords" itemprop="keywords"
        content=" [hugo ä»£ç å—] " />
    <base href="https://tomtomyoung.top/">
    <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://tomtomyoung.top/post/hugo-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E5%9D%97/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.efda7717cbf0ab8dc9081c89b5e1a58e3c7b9b8ee3471c759bea8a750722a7ab.css" integrity="" type="text/css">
</head><body>
<div class="main animated fadeInDown">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>ç›®å½•</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://tomtomyoung.top/post/hugo-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E5%9D%97/#1-%e8%87%aa%e5%ae%9a%e4%b9%89%e4%bb%a3%e7%a0%81%e5%9d%97%e6%a0%b7%e5%bc%8f" class="toc-link">1. è‡ªå®šä¹‰ä»£ç å—æ ·å¼</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E5%9D%97/#2-%e6%b7%bb%e5%8a%a0cope%e6%8c%89%e9%92%ae" class="toc-link">2. æ·»åŠ CopeæŒ‰é’®</a>
                </li>
                <li>
                    <a href="https://tomtomyoung.top/post/hugo-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%A3%E7%A0%81%E5%9D%97/#3-%e7%bb%99cope%e6%8c%89%e9%92%ae%e6%b7%bb%e5%8a%a0%e5%8a%9f%e8%83%bd" class="toc-link">3. ç»™CopeæŒ‰é’®æ·»åŠ åŠŸèƒ½</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">hugo è‡ªå®šä¹‰ä»£ç å—</span>
        
        <div class="info">
          <span>ğŸ“… 2020-12-31</span>
          <span>ğŸ‘¦ Tomtom Young</span>
          <span>ğŸ“– 1708å­—</span>
          <span>â± 4åˆ†é’Ÿ</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1-è‡ªå®šä¹‰ä»£ç å—æ ·å¼">1. è‡ªå®šä¹‰ä»£ç å—æ ·å¼</h3>
<p>æ ¹æ®hugoçš„å®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°hugoå¯ä»¥é…ç½®ä½¿ç”¨å¤šç§markdownçš„è§£æå™¨ï¼Œ<a href="https://gohugo.io/getting-started/configuration-markup/">hugo markup é…ç½®</a></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231200000209.png" alt="image-20201231200000209"></p>
<p>å…¶ä¸­æœ‰ä¸€é¡¹æ˜¯highlightçš„é…ç½®ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231200128436.png" alt="image-20201231200128436"></p>
<p>å°†å®˜æ–¹æ–‡æ¡£çš„é…ç½®é¡¹ï¼Œæ”¾è¿›è‡ªå·±çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™é‡Œä¸€å®šè¦æ³¨æ„ä½ è‡ªå·±çš„é…ç½®æ–‡ä»¶çš„æ ¼å¼ï¼ä¸€èˆ¬æ¥è¯´ï¼Œhogoçš„é…ç½®æ–‡ä»¶éƒ½åœ¨æ ¹ç›®å½•ä¸‹ï¼Œæ–‡ä»¶åä¸º<code>config.toml</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>[markup]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  [markup.highlight]
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    anchorLineNos = <span style="color:#ff79c6">false</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    codeFences = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    guessSyntax = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    hl_Lines = <span style="color:#f1fa8c">&#34;&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    lineAnchors = <span style="color:#f1fa8c">&#34;&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    lineNoStart = <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>    lineNos = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    lineNumbersInTable = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>    noClasses = <span style="color:#ff79c6">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>    style = <span style="color:#f1fa8c">&#34;dracula&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>    tabWidth = <span style="color:#bd93f9">4</span>
</code></pre></div><p>å…¶ä¸­çš„<code>style</code>é…ç½®é¡¹æ˜¯å…³äºä»£ç å—æ ·å¼çš„ï¼Œæ ·å¼éå¸¸å¤šï¼Œå¯ä»¥å»githubä¸Šè‡ªå·±çœ‹ä¸€ä¸‹ï¼Œé€‰ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„ï¼Œ<a href="https://xyproto.github.io/splash/docs/longer/all.html">highlightä¸»é¢˜</a></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231200423680.png" alt="image-20201231200423680"></p>
<p>å¦‚æœæ¸²æŸ“çš„æ ·å¼ä½ è‡ªå·±å¹¶ä¸æ»¡æ„ï¼Œè¿˜å¯ä»¥è‡ªå·±ç¼–è¾‘cssï¼Œæ¥è¿›ä¸€æ­¥è‡ªå®šä¹‰ï¼Œæ¯”å¦‚æˆ‘åˆæ·»åŠ äº†å¦‚ä¸‹çš„é…ç½®ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>.<span style="color:#50fa7b">highlight</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>  <span style="color:#ff79c6">position</span>: <span style="color:#ff79c6">relative</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>  <span style="color:#ff79c6">display</span>: <span style="color:#ff79c6">block</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>  <span style="color:#ff79c6">overflow-x</span>: <span style="color:#ff79c6">auto</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>  <span style="color:#ff79c6">font-family</span>: Consolas,Monaco,Menlo,Consolas,<span style="color:#ff79c6">monospace</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>  <span style="color:#ff79c6">line-height</span>: <span style="color:#bd93f9">1.5</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>}
</code></pre></div><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªcssæ–‡ä»¶ä¸€å®šè¦å¼•å…¥ä½ çš„æ¨¡æ¿ä¸­ï¼Œä½ å¯ä»¥é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯æ‰¾åˆ°ä¸€ä¸ªå·²ç»å¼•å…¥çš„cssæ–‡ä»¶ï¼Œåœ¨é‡Œé¢æ·»åŠ ä½ çš„ä»£ç ï¼›å¦ä¸€ç§æ˜¯æ–°å»ºä¸€ä¸ªcssæ–‡ä»¶ï¼Œå†™å¥½ä»£ç ä¹‹åå¼•å…¥æ¨¡æ¿ã€‚</p>
<p><strong>ç¬¬ä¸€ç§æ–¹å¼</strong></p>
<p>æˆ‘ä½¿ç”¨çš„æ¨¡æ¿çš„ç»“æ„å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘æŠŠè‡ªå®šä¹‰çš„cssæ ·å¼æ”¾è¿›äº†<code>assets/css/stule.css</code>ä¸­ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231205847336.png" alt="image-20201231205847336"></p>
<p>åŒæ—¶ï¼Œåœ¨<code>partials/header.html</code>ä¸­ï¼Œå·²ç»å¯¼å…¥äº†<code>style.css</code>ï¼Œå› æ­¤å¯ä»¥ç¡®ä¿æˆ‘çš„cssæ ·å¼å¯ä»¥ç”Ÿæ•ˆï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231210036449.png" alt="image-20201231210036449"></p>
<p><strong>ç¬¬äºŒç§æ–¹å¼</strong></p>
<p>æˆ‘å¯ä»¥åœ¨cssæ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ª<code>highlight.css</code>æ–‡ä»¶ï¼Œå°†æˆ‘çš„cssæ ·å¼å†™å…¥ï¼ŒåŒæ—¶ï¼Œä¸€å®šè¦åœ¨<code>head.html</code>ä¸­å¼•å…¥è¿™ä¸ªcssæ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{ $style := resources.Get &#34;css/highlight.css&#34; | resources.Minify | resources.Fingerprint }}
</code></pre></div><p>è¿˜è¦æ³¨æ„çš„æ˜¯<code>position: relative;</code>æ˜¯ä¸€å®šè¦å†™çš„ï¼Œè¿™ä¸ªå±æ€§ç”¨æ¥å®šä½copeæŒ‰é’®ã€‚ç»è¿‡ä¸€ç•ªæ“ä½œï¼Œç°åœ¨æˆ‘çš„ä»£ç å—å˜æˆäº†è¿™æ ·ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231200746256.png" alt="image-20201231200746256"></p>
<h3 id="2-æ·»åŠ copeæŒ‰é’®">2. æ·»åŠ CopeæŒ‰é’®</h3>
<p>æ‰‹åŠ¨å¤åˆ¶ä»£ç å¾ˆéº»çƒ¦ï¼Œè¿˜ä¼šå¸¦æœ‰è¡Œå·ï¼Œè¿™é‡Œæˆ‘ä»¬ç»™æ¯ä¸ªä»£ç å—æ·»åŠ ä¸€ä¸ªCopeæŒ‰é’®ã€‚é¦–å…ˆå®šä¹‰æŒ‰é’®çš„æ ·å¼ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>.<span style="color:#50fa7b">highlight-copy-btn</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>  <span style="color:#ff79c6">position</span>: <span style="color:#ff79c6">absolute</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  <span style="color:#ff79c6">top</span>: <span style="color:#bd93f9">7</span><span style="color:#8be9fd">px</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#ff79c6">right</span>: <span style="color:#bd93f9">7</span><span style="color:#8be9fd">px</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>  <span style="color:#ff79c6">border</span>: <span style="color:#bd93f9">0</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>  <span style="color:#ff79c6">border-radius</span>: <span style="color:#bd93f9">4</span><span style="color:#8be9fd">px</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#ff79c6">padding</span>: <span style="color:#bd93f9">1</span><span style="color:#8be9fd">px</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>  <span style="color:#ff79c6">font-size</span>: <span style="color:#bd93f9">0.8</span><span style="color:#8be9fd">em</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  <span style="color:#ff79c6">line-height</span>: <span style="color:#bd93f9">1.8</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>  <span style="color:#ff79c6">color</span>: <span style="color:#bd93f9">#fff</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>  <span style="color:#ff79c6">background-color</span>: <span style="color:#bd93f9">#777</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>  <span style="color:#ff79c6">min-width</span>: <span style="color:#bd93f9">55</span><span style="color:#8be9fd">px</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#ff79c6">text-align</span>: <span style="color:#ff79c6">center</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>.<span style="color:#50fa7b">highlight-copy-btn</span>:hover {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>  <span style="color:#ff79c6">background-color</span>: <span style="color:#bd93f9">#666</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>}
</code></pre></div><p>ç„¶åæˆ‘ä»¬å°†æŒ‰é’®æ·»åŠ åˆ°æ¯ä¸ªä»£ç å—ä¸­ï¼Œæ³¨æ„è¿™é‡Œä¸€å®šè¦ä¿è¯<code>.highlight</code>æ·»åŠ äº†<code>position: relative;</code>å±æ€§ï¼Œå¦åˆ™æŒ‰é’®çš„å®šä½ä¼šå‡ºç°é—®é¢˜ã€‚</p>
<p>æˆ‘ä»¬åœ¨jsæ–‡ä»¶ä¸­å†™ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œæˆ–è€…æ–°å†™ä¸€ä¸ªjsæ–‡ä»¶ï¼ˆè¿™é‡Œå’Œåˆšæ‰æˆ‘ä»¬ä»‹ç»çš„csså†™æ³•ä¸€æ ·ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨<code>js</code>æ–‡ä»¶å¤¹ä¸‹çš„æŸä¸€ä¸ªå·²ç»å¯¼å…¥çš„jsæ–‡ä»¶ä¸­æ·»åŠ æˆ‘ä»¬çš„å‡½æ•°ï¼Œä¹Ÿå¯ä»¥åœ¨<code>js</code>æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ¥å†™æˆ‘ä»¬çš„å‡½æ•°ï¼Œæ€»ä¹‹è¦ä¿è¯è¿™ä¸ªjsæ–‡ä»¶æœ€ç»ˆå¼•å…¥äº†æˆ‘ä»¬çš„æ¨¡æ¿ä¸­ï¼Œå¼•å…¥çš„ä»£ç ä¸€èˆ¬æ˜¯ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>{{ $anatole <span style="color:#ff79c6">:=</span> resources.Get <span style="color:#f1fa8c">&#34;js/global.js&#34;</span> }}
</code></pre></div><p>æˆ‘ä»¬åœ¨è‡ªå·±é€‰æ‹©çš„æ–‡ä»¶é‡Œé¢å†™ä¸€ä¸ªæ–°å‡½æ•°<code>addCopyButton</code>ï¼Œå¹¶å¯¹äºæ¯ä¸€ä¸ªä»£ç å—éƒ½æ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œç»™æ¯ä¸ªä»£ç å—éƒ½æ·»åŠ ä¸ŠCopeæŒ‰é’®ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">function</span> addCopyButton(containerEl) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    <span style="color:#8be9fd;font-style:italic">var</span> copyBtn <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.createElement(<span style="color:#f1fa8c">&#34;button&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    copyBtn.className <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;highlight-copy-btn&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    copyBtn.textContent <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;Copy&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>    containerEl.appendChild(copyBtn);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#8be9fd;font-style:italic">var</span> highlightBlocks <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.getElementsByClassName(<span style="color:#f1fa8c">&#39;highlight&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#ff79c6">if</span>(highlightBlocks<span style="color:#ff79c6">!=</span><span style="color:#ff79c6">null</span>){
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>    <span style="color:#8be9fd;font-style:italic">Array</span>.prototype.forEach.call(highlightBlocks, addCopyButton);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>}
</code></pre></div><p>è¿™æ ·æˆ‘ä»¬å°±ç»™æ¯ä¸ªä»£ç å—æ·»åŠ äº†ä¸€ä¸ªç±»åä¸º<code>highlight-copy-btn</code>çš„CopeæŒ‰é’®ï¼Œç°åœ¨æˆ‘ä»¬çš„ä»£ç å—é•¿è¿™æ ·ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231201506402.png" alt="image-20201231201506402"></p>
<h3 id="3-ç»™copeæŒ‰é’®æ·»åŠ åŠŸèƒ½">3. ç»™CopeæŒ‰é’®æ·»åŠ åŠŸèƒ½</h3>
<p>ç°åœ¨è¿™ä¸ªCopeæŒ‰é’®æ˜¯æ²¡æœ‰ä»»ä½•åŠŸèƒ½çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç»™è¿™ä¸ªæŒ‰é’®ç»‘å®šä¸€ä¸ªç‚¹å‡»äº‹ä»¶ã€‚</p>
<p>æˆ‘ä»¬è¦å¤åˆ¶ä¸€æ®µä¿¡æ¯æ—¶ï¼Œå…ˆè¦é€‰æ‹©è¿™æ®µä¿¡æ¯ï¼Œç„¶åå¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¦å®šä¹‰ä¸¤ä¸ªå‡½æ•°ï¼Œä¸€ä¸ªæ˜¯é€‰æ‹©æ–‡å­—ï¼Œä¸€ä¸ªæ˜¯å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ï¼ŒåŒæ ·æˆ‘ä»¬å°†å‡½æ•°å†™åœ¨åˆšæ‰çš„<code>addCopyButton</code>æ—è¾¹ï¼Œæˆ‘ä»¬å…ˆå†™é€‰æ‹©æ–‡å­—å‡½æ•°<code>selectText</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">function</span> selectText(node) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    <span style="color:#8be9fd;font-style:italic">var</span> selection <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">window</span>.getSelection();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    <span style="color:#8be9fd;font-style:italic">var</span> range <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.createRange();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>    range.selectNodeContents(node);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    selection.removeAllRanges();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>    selection.addRange(range);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>    <span style="color:#ff79c6">return</span> selection;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>}
</code></pre></div><p>å†å†™å¤åˆ¶åˆ°å‰ªåˆ‡æ¿å‡½æ•°<code>flashCopyMessage</code>ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">function</span> flashCopyMessage(el, msg) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>    el.textContent <span style="color:#ff79c6">=</span> msg;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>    setTimeout(<span style="color:#8be9fd;font-style:italic">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>      el.textContent <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;Copy&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>    }, <span style="color:#bd93f9">1000</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>}
</code></pre></div><p>æœ€åæˆ‘ä»¬ç»™CopeæŒ‰é’®ç»‘å®šè¿™ä¸¤ä¸ªå‡½æ•°ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">function</span> addCopyButton(containerEl) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>    <span style="color:#8be9fd;font-style:italic">var</span> copyBtn <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">document</span>.createElement(<span style="color:#f1fa8c">&#34;button&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>    copyBtn.className <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;highlight-copy-btn&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    copyBtn.textContent <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;Copy&#34;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>    <span style="color:#8be9fd;font-style:italic">var</span> codeEl <span style="color:#ff79c6">=</span> containerEl.firstElementChild.firstElementChild.firstElementChild.firstElementChild.children[<span style="color:#bd93f9">1</span>];
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>    copyBtn.addEventListener(<span style="color:#f1fa8c">&#39;click&#39;</span>, <span style="color:#8be9fd;font-style:italic">function</span>() {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>      <span style="color:#ff79c6">try</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>        <span style="color:#8be9fd;font-style:italic">var</span> selection <span style="color:#ff79c6">=</span> selectText(codeEl);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>        <span style="color:#8be9fd;font-style:italic">document</span>.execCommand(<span style="color:#f1fa8c">&#39;copy&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>        selection.removeAllRanges();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>        flashCopyMessage(copyBtn, <span style="color:#f1fa8c">&#39;Copied!&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>      } <span style="color:#ff79c6">catch</span>(e) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>        console <span style="color:#ff79c6">&amp;&amp;</span> console.log(e);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>        flashCopyMessage(copyBtn, <span style="color:#f1fa8c">&#39;Failed :\&#39;(&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>      }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>    });
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>    containerEl.appendChild(copyBtn);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>}
</code></pre></div><p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯<code>codeEl</code>çš„é€‰æ‹©ä¸€å®šè¦æ ¹æ®ä½ çš„å®é™…æƒ…å†µï¼Œå…ˆè¦é¿å…é€‰æ‹©è¡Œå·çš„è¯ï¼Œæœ€å¥½åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®<code>lineNumbersInTable = true</code>ï¼Œè¿™æ ·ä¼šæŠŠä½ çš„ä»£ç å—æ¸²æŸ“æˆä¸€ä¸ªTableï¼Œæ–¹ä¾¿å»é€‰æ‹©ä¸åŒ…å«è¡Œå·çš„éƒ¨åˆ†ï¼Œæ¯”å¦‚æˆ‘çš„ä»£ç å†…å®¹æ˜¯è¿™ä¸ªç»“æ„ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231202357500.png" alt="image-20201231202357500"></p>
<p>é‚£ä¹ˆæˆ‘å°±è¦ä»<code>.highlight</code>å‡ºå‘ï¼Œå¾€ä¸‹æ‰¾4å±‚ï¼Œç„¶åé€‰æ‹©ç¬¬äºŒä¸ªå­èŠ‚ç‚¹ï¼Œå°±å¯ä»¥é€‰æ‹©åˆ°æˆ‘çš„ä»£ç å†…å®¹äº†ï¼Œä¸åŒçš„ç»“æ„è¦è¿›è¡Œé€‚å½“è°ƒæ•´ã€‚</p>
<p>ç»è¿‡ä¸€ç•ªæŠ˜è…¾ï¼Œç°åœ¨CopeæŒ‰é’®å°±æœ‰äº†å¤åˆ¶çš„åŠŸèƒ½ï¼Œç‚¹å‡»CopeæŒ‰é’®ï¼Œå¤åˆ¶æˆåŠŸä¼šæ˜¾ç¤ºCopied!ä¿¡æ¯ï¼Œå¤±è´¥ä¼šæ˜¾ç¤ºFailedä¿¡æ¯ï¼š</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/image-20201231202834857.png" alt="image-20201231202834857"></p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/%20categories/%E5%8D%9A%E5%AE%A2/">åšå®¢</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/%20tags/hugo/">hugo</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="back-top-btn">
            <i class="iconfont icon-top item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E8%BD%AC%E8%BD%BD%E6%9C%BA%E5%99%A8%E4%B8%8E%E4%BA%BA%E7%B1%BB%E8%A7%86%E8%A7%89%E8%83%BD%E5%8A%9B%E7%9A%84%E5%B7%AE%E8%B7%9D2/" data-tooltip="(è½¬è½½)æœºå™¨ä¸äººç±»è§†è§‰èƒ½åŠ›çš„å·®è·ï¼ˆ2ï¼‰">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E4%BA%92%E8%81%94%E7%BD%91%E5%BB%BA%E7%AB%99%E5%85%A8%E6%B5%81%E7%A8%8B/" data-tooltip="äº’è”ç½‘å»ºç«™å…¨æµç¨‹">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover animated fadeInShow">
        <div class="search-container animated fadeInShow">
    <input type="search" class="docsearch-input search-input" placeholder="æœç´¢å…³é”®è¯" />
    <div id="loading" class="loading-container">
        <span>æœç´¢ä¸­...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: (query) => {
            $('#loading').css('display', 'flex');
        },
        transformData: (tips) => {
            $('#loading').css('display', 'none');
        }
    })
</script>
    </div>
</body>



<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.801ba58b9554e77a2688843e942518db9f3bba50276845cc90afcd9fe5f4deac2c0fa3d1d918ec41dd1aea45a16b7782e09a365fe34d756db8d3bcacb3ccd3f4.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>