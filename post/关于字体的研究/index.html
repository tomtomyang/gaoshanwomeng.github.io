<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
  <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
  <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
  <meta name="baidu-site-verification" content="iPC3wUcQLL" />
  <title> 关于字体的研究</title>
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.74.3" /><meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1" />
  <meta name="description" itemprop="description"
    content=" 关于字体的研究 " />
  <meta name="keywords" itemprop="keywords"
    content=" [字体] " />
  <base href="https://tomtomyoung.top/" />


  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap" media="print"
    onload="this.media='all'">

  
  <link rel="shortcut icon" href="https://tomtomyoung.top/favicons//favicon.ico" type="image/x-icon" />
  <link rel="icon" type="image/png" sizes="32x32" href="https://tomtomyoung.top/favicons/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="https://tomtomyoung.top/favicons/favicon-16x16.png" />
  <link rel="mask-icon" href="https://tomtomyoung.top/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="apple-touch-icon" sizes="180x180" href="https://tomtomyoung.top/favicons/apple-touch-icon.png">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="msapplication-TileImage" content="https://tomtomyoung.top/favicons/mstile-144x144.png">
  <link rel="manifest" href="https://tomtomyoung.top/manifest.json">

  
  <link rel="canonical" href="https://tomtomyoung.top/post/%E5%85%B3%E4%BA%8E%E5%AD%97%E4%BD%93%E7%9A%84%E7%A0%94%E7%A9%B6/" />
  <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_5vzvggza71i.css" />
  
  
  
  
  
  
  
  
  
  <link rel="stylesheet" href="https://tomtomyoung.top/css/style.min.css" integrity="" type="text/css" />

  
  
  
  <script type="text/javascript" src="https://tomtomyoung.top/js/docsearch.min.js" integrity=""></script>
</head><body class="animated fadeInDown">
<div class="main"><div class="percentage_container">
    <div class="percentage" id="percentage"></div>
</div><div class="toc sub-container">
    <div class="toc-header">
        <span>目录</span>
    </div><ul class="toc-h2"><li>
                <span class="toc-link">1. 字体的设置</span>
            </li>
            
                    <ul class="toc-h3"><li>
                <span class="toc-link">1. font-family</span>
            </li>
            <li>
                <span class="toc-link">2. font-size</span>
            </li>
            <li>
                <span class="toc-link">3. font-weight</span>
            </li>
            <li>
                <span class="toc-link">4. font-variant</span>
            </li>
            <li>
                <span class="toc-link">5. font-style</span>
            </li>
            
                    </ul><li>
                <span class="toc-link">2. 加载网络字体</span>
            </li>
            
                    <ul class="toc-h3"><li>
                <span class="toc-link">1. link</span>
            </li>
            <li>
                <span class="toc-link">2. @font-face</span>
            </li>
            
                    </ul><li>
                <span class="toc-link">2. 盘古之白</span>
            </li>
            </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">关于字体的研究</span>
        
        <div class="info">
          <span>📅 2022-05-11</span>
          <span>👦 Tomtom Young</span>
          <span>📖 2784字</span>
          <span>⏱ 6分钟</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <blockquote>
<p>参考：</p>
<p><a href="https://io-oi.me/tech/loading-google-fonts-async/">简单实现 Google Fonts 的异步加载</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Styling_text/Web_fonts">MDN_Web字体</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family">MDN_font-family</a></p>
<p><a href="https://ridiqulous.com/chinese-webfont-guide/">中文网页字体设置方案：从 font-family 到 font-display</a></p>
<p><a href="https://blog.jsonfeed.cn/load-web-fonts-best-practice/">加载 Web Fonts 最佳实践</a></p>
<p><a href="https://juejin.cn/post/6971640926389141518">HTML5 之 Link 标签</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/link">MDN_link</a></p>
</blockquote>
<p>字体无处不在，无论是阅读网页，还是编辑Word文档，甚至是编写代码，我们都需要使用到字体，包括中文字体和英文字体。使用不同的字体会带来完全不同的阅读体验，为了构造更美观的网页效果，提高网页的阅读体验，本篇文章对Web中的字体展开研究。</p>
<h2 id="1-字体的设置">1. 字体的设置</h2>
<h3 id="1-font-family">1. font-family</h3>
<p>应用到HTML的字体可以使用 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/font-family"><code>font-family</code></a>属性来控制。CSS 属性 <code>font-family</code> 允许您通过给定一个有先后顺序的，由字体名或者字体族名组成的列表来为选定的元素设置字体。浏览器会在列表中搜寻，直到找到它所运行的系统上可用的字体。</p>
<blockquote>
<p><code>font-family</code> 属性指定的是一个优先级从高到低的可选字体列表。 字体的选定不是在发现用户计算机上安装的列表中的第一个字体时停止。相反，对字体的选择是逐字进行的。也就是说即使某个字符周围都在某个字体中可以显示，但该字符在当前的字体文件中没有适合的图形，那么会继续尝试列表中靠后的字体。当一个字体只在某些特定的 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-style">font-style (en-US)</a>、 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant">font-variant (en-US)</a>、或 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font-size">font-size (en-US)</a> 属性值下有效时，这些属性的值也可能对字体族 font family 的选择造成影响。</p>
</blockquote>
<blockquote>
<ul>
<li>英文字体在前，中文字体在后。原因很简单，中文字体包中通常包含了英文字符，反之则不成立，如果先设置了中文字体，那么英文字体根本轮不到 fallback</li>
<li>操作系统方面，Apple 系列（macOS + iOS）字体在前（直接用 <code>-apple-system</code> 即可，见下文），Windows 字体在后。<a href="https://ruby-china.org/topics/14005">这里</a>解释了原因，即，macOS 下的用户有一定概率安装了 Windows 字体（因为安装了 Office），而 Windows 下安装 macOS 字体的用户却少之又少，所以如果 Windows 在前，那么在 macOS 下很有可能就出现「放着苹方不用却用微软雅黑」这种坑爹情况</li>
<li>根据访问网站的用户群体不同，可以考虑放弃对于老旧操作系统和浏览器的支持，比如我在使用思源宋体的时候，仅提供了 .woff 和 .woff2 格式的字体文件，完全放弃了老版本的 IE 和 Safari</li>
<li>仅对 Windows 用户使用自定义字体，比如思源系列，macOS、iOS、Linux 就使用系统自带字体就好。原因嘛当然是因为 Windows 自带的中文字体实在找不到好看的，而主动安装字体的用户毕竟还是少数（嗯这条是私货 🙄 ）</li>
<li>衬线还是非衬线完全看个人审美喜好，比如我就不觉得思源黑体系列好看（所以你现在看到的思源宋体，如果你是 Windows 用户的话）。同时，中文衬线搭配英文非衬线，或者反过来，中文非衬线搭配英文衬线，也完全没有问题</li>
</ul>
</blockquote>
<p>对于传统的web开发人员来说，字体选择是有限的。只有少数几种字体可以保证兼容所有流行的操作系统——这就是所谓的 <a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Fundamentals#web_safe_fonts">Web-safe 字体</a>。您可以使用字体堆栈来指定可选择的字体，后面是Web-safe的替代选项，然后是默认的系统字体，但是为了确保您的设计在每种字体中都显示正常，这样增加了测试的开销。</p>
<h3 id="2-font-size">2. font-size</h3>
<h3 id="3-font-weight">3. font-weight</h3>
<h3 id="4-font-variant">4. font-variant</h3>
<h3 id="5-font-style">5. font-style</h3>
<h2 id="2-加载网络字体">2. 加载网络字体</h2>
<p>在上一节中说到“CSS 属性 <code>font-family</code> 允许您通过给定一个有先后顺序的，由字体名或者字体族名组成的列表来为选定的元素设置字体。浏览器会在列表中搜寻，直到找到它所运行的系统上可用的字体”，那么可能会出现一个问题，不同的电脑中安装的字体不同，同一个网站在不同电脑上显示的字体也不同。如果我们想让我们的网站显示统一的字体，有以下两种方式，第一种是设置一个每一台电脑上都会装的字体，第二种是使用网络字体，给用户装一个字体。</p>
<p>在Web中，中文一般是不推荐使用网络字体的——因为汉字庞大的字符数让中文网络字体的体积异常庞大。但是，如果你经常浏览国外的英文网站，你会发现——使用了网络字体的网页是真的很美！所以，为何中文网页不能一样美呢？</p>
<p>技术进步带来的字体子集化和用户网络带宽的普遍提升，中文网页其实已经可以开始尝试网络字体了。<a href="https://www.apple.com.cn/">苹果的中文官网</a>其实就已经在使用中文网络字体了。<a href="https://fonts.google.com/">Google Fonts</a> 也推出了全新的设计，以庆祝其 10 岁的生日，而其中一个重要的新亮点，就是添加了可变字体（Variable Fonts）的支持。</p>
<p>所以，中文网络字体的普及是刻不容缓的。这需要字体设计师的努力，也需要网页开发者的努力。作为开发者，尝试使用网络字体其实也是我们的一个职责——<em>Making the Web Beautiful!</em></p>
<h3 id="1-link">1. link</h3>
<p>link 元素用于链接外部<code>css</code>样式表等其他相关外部资源。</p>
<p>其中<code>link</code>中包括如下属性。</p>
<ul>
<li><code>href</code>：指明外部资源文件的路径，即告诉浏览器外部资源的位置</li>
<li><code>hreflang</code>：说明外部资源使用的语言</li>
<li><code>media</code>：说明外部资源用于哪种设备</li>
<li><code>rel</code>：必填，表明当前文档和外部资源的关系</li>
<li><code>sizes</code>：指定图标的大小，只对属性<code>rel=&quot;icon&quot;</code>生效</li>
<li><code>type</code>：说明外部资源的 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTTP%2FBasics_of_HTTP%2FMIME_types">MIME</a> 类型，如<code>text/css</code>、<code>image/x-icon</code></li>
</ul>
<p>其中<code>rel</code>是核心属性，其参数值如下，也可参考 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTML%2FLink_types">MDN</a>：</p>
<ul>
<li><code>alternate</code>：链接到文档的替代版本</li>
<li><code>archives</code>：链接到文档集或历史数据</li>
<li><code>author</code>：提供指向文档作者的链接</li>
<li><code>bookmark</code>：定义文档在收藏夹中显示的书签图标</li>
<li><code>canonical</code>：指明网站的规范版本</li>
<li><code>dns-prefetch</code>：指定浏览器预先执行目标资源的<code>DNS</code>解析</li>
<li><code>external</code>：链接到外部，即告知搜索引擎，此链接不是本站链接</li>
<li><code>first</code>：链接到集合中的首个文档</li>
<li><code>help</code>：链接帮助信息</li>
<li><code>icon</code>：定义网站或网页在浏览器标题栏中的图标</li>
<li><code>license</code>：链接到文档的版权信息</li>
<li><code>last</code>：链接到集合中的末个文档</li>
<li><code>nofollow</code>：指定文档不被搜索引擎跟踪，即某些页面不被爬虫抓取</li>
<li><code>next</code>：记录文档的下一页（浏览器可以提前加载此页）</li>
<li><code>noreferrer</code>：可以阻止浏览器发送访问来源信息</li>
<li><code>preload</code>：对资源进行预加载</li>
<li><code>pingback</code>：提供处理当前文档的<code>pingback</code>服务器地址</li>
<li><code>prefetch</code>：对资源进行预加载并缓存，通常<code>preload</code>用于加载当前页面的资源，而<code>prefetch</code>用于加载将来页面可能需要的资源</li>
<li><code>preconnect</code>：预先连接到目标资源的地址</li>
<li><code>prev</code>：记录文档的下一页</li>
<li><code>search</code>：链接到文档的搜索工具</li>
<li><code>stylesheet</code>：指定作为样式表的外部资源</li>
<li><code>sidebar</code>：指定浏览器边栏中显示的文档</li>
<li><code>tag</code>：指定当前文档使用的标签、关键词</li>
<li><code>up</code>：指向一个文档，此文档提供此网页的上下文关系</li>
</ul>
<p>其中<code>stylesheet</code>指定作为样式表的外部资源，</p>
<p>人们每天数以千次地像这样操作谷歌字体：选择一些看起来不错的网络可用字体，将它的 <code>&lt;link&gt;</code> 标签放入 <code>&lt;head&gt;</code> 中，然后检查它们是否显示正确。我们来看下 Lighthouse 是如何评价这样的工作流的。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Lighthouse.webp" alt="Lighthouse"></p>
<p>标签中的样式表被 Lighthouse 标记为阻塞渲染的资源，它们竟然让渲染增加了一秒钟？这看起来不是很好。我们已经按照书籍，文档，HTML 标准完成了所有工作，为什么 Lighthouse 还是会告诉我这样不对呢？</p>
<p>让我们来讨论下如何让字体样式文件成为非渲染阻塞资源，并且探讨一种不仅让 Lighthouse 满意，还要解决加载字体时通常会出现糟糕的无样式文本闪烁（FOUT）问题。我们将使用原生的 HTML，CSS 和 JavaScript 来完成这些工作，因此我们可以在任何技术栈中使用它们。</p>
<h3 id="2-font-face">2. @font-face</h3>
<h2 id="2-盘古之白">2. 盘古之白</h2>

      </div>
      <div class="footer">
        <span><a class="category" href="https://tomtomyoung.top/categories/%E5%89%8D%E7%AB%AF/">前端</a></span>
        <span><a class="tag" href="https://tomtomyoung.top/tags/%E5%AD%97%E4%BD%93/">字体</a><a class="tag" href="https://tomtomyoung.top/tags/css/">css</a></span>
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <i class="iconfont icon-top item-btn" id="back_top_btn"></i>
    </li>
    <li class="menu-item">
        <a href="https://tomtomyoung.top/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-switch item-btn" id="switch_btn"></i>
    </li>
    <li class="menu-item">
        <i class="iconfont icon-search item-btn" id="search_btn"></i>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://tomtomyoung.top/post/%E4%BD%BF%E7%94%A8vscode%E8%BF%9B%E8%A1%8C%E8%BF%9C%E7%A8%8B%E5%BC%80%E5%8F%91/" data-tooltip="使用vscode进行远程开发">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover" id="cover">
        <div class="search-container">
    <input type="search" class="docsearch-input search-input" placeholder="搜索关键词" />
    
</div>
    </div>
</body>








<script type="text/javascript" src="https://tomtomyoung.top/js/util.min.js" integrity=""></script>
<script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    

    
    
    
    
    
    
    
    
    
</script></html>