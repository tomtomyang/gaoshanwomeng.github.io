<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  ajax axioså‘é€postè¯·æ±‚è¸©å‘è®°å½• </title>
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" itemprop="description"
        content=" ajax axioså‘é€postè¯·æ±‚è¸©å‘è®°å½• ">
    <meta name="keywords" itemprop="keywords"
        content=" [å‰ç«¯ axios post] ">
    <base href="https://gaoshanwomeng.github.io/">
    <link rel="shortcut icon" href="https://gaoshanwomeng.github.io/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://gaoshanwomeng.github.io/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://gaoshanwomeng.github.io/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://gaoshanwomeng.github.io/css/style.min.ddbb68ed295fb07d0be5514ab760a1f792d63640c64e5ffdb3e58387d0e81dad.css" integrity=""
        type="text/css">
</head><body>
<div class="main animated fadeInDown">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>ç›®å½•</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#1%e9%97%ae%e9%a2%98%e5%9c%ba%e6%99%af" class="toc-link">1.é—®é¢˜åœºæ™¯</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#2%e9%97%ae%e9%a2%98%e5%8e%9f%e5%9b%a0" class="toc-link">2.é—®é¢˜åŸå› </a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#1%e8%a6%81%e7%82%b91" class="toc-link">1.è¦ç‚¹1</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#2%e8%a6%81%e7%82%b92" class="toc-link">2.è¦ç‚¹2</a>
                </li>
                
                        </ul><li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#3%e9%97%ae%e9%a2%98%e5%88%86%e6%9e%90" class="toc-link">3.é—®é¢˜åˆ†æ</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#4%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88" class="toc-link">4.è§£å†³æ–¹æ¡ˆ</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#1%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e4%b8%80" class="toc-link">1.è§£å†³æ–¹æ¡ˆä¸€</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#2%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e4%ba%8c" class="toc-link">2.è§£å†³æ–¹æ¡ˆäºŒ</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#3%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e4%b8%89" class="toc-link">3.è§£å†³æ–¹æ¡ˆä¸‰</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#4%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e5%9b%9b" class="toc-link">4.è§£å†³æ–¹æ¡ˆå››</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#5%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e4%ba%94" class="toc-link">5.è§£å†³æ–¹æ¡ˆäº”</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/ajax-axios%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82%E5%A1%AB%E5%9D%91/#6%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88%e5%85%ad" class="toc-link">6.è§£å†³æ–¹æ¡ˆå…­</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">ajax axioså‘é€postè¯·æ±‚è¸©å‘è®°å½•</span>
        
        <div class="info">
          <span>ğŸ“… 2020-07-11</span>
          <span>ğŸ‘¦ Never Yuä¸¶</span>
          <span>ğŸ“– 1305å­—</span>
          <span>â± 3åˆ†é’Ÿ</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <blockquote>
<p>ä½¿ç”¨axioså‘é€postè¯·æ±‚ï¼Œåœ¨åç«¯æ¥æ”¶ä¸åˆ°ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå¤šæ–¹æŸ¥è¯æ— æœï¼Œæœ€ç»ˆæ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼Œè½¬è½½è¿‡æ¥ä½œä¸ºè®°å½•ã€‚</p>
<p>ä½œè€…ï¼š<a href="https://me.csdn.net/csdn_yudong">Never Yuä¸¶</a></p>
<p>æ–‡ç« ï¼šaxios å‘ post è¯·æ±‚ï¼Œåç«¯æ¥æ”¶ä¸åˆ°å‚æ•°çš„è§£å†³æ–¹æ¡ˆ</p>
<p>é“¾æ¥ï¼šhttps://blog.csdn.net/csdn_yudong/article/details/79668655</p>
</blockquote>
<h3 id="1é—®é¢˜åœºæ™¯">1.é—®é¢˜åœºæ™¯</h3>
<p>åœºæ™¯å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªæ­£å¸¸ axios post è¯·æ±‚ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>axios({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>	headers<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>		<span style="color:#f1fa8c">&#39;deviceCode&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;A95ZEF1-47B5-AC90BF3&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>	},
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>	method<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;post&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>	url<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;/api/lockServer/search&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>	data<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>		username,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>		pwd
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>	}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#bd93f9">1234567891011</span>
</code></pre></div><p>åå°è¯´æ²¡æœ‰æ¥æ”¶åˆ°ä½ çš„ä¼ å‚ã€‚</p>
<p>è¿™å°±æœ‰ç‚¹å¥‡æ€ªäº†ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹æµè§ˆå™¨çš„è¯·æ±‚ä¿¡æ¯æ˜¯ OK çš„ï¼Œå‚æ•°éƒ½æ˜¯æœ‰çš„ï¼Œè€Œä¸”ä¹‹å‰è¿™æ ·ç”¨ axios ä¹Ÿæ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>ä½†æ˜¯è¿™ä¸ªæ¥å£æ˜¯é€šç”¨çš„ï¼Œåˆ«äººéƒ½ç”¨äº†ï¼Œæ˜¯ OK çš„ï¼Œæ¥å£æ²¡é—®é¢˜ã€‚</p>
<h3 id="2é—®é¢˜åŸå› ">2.é—®é¢˜åŸå› </h3>
<h4 id="1è¦ç‚¹1">1.è¦ç‚¹1</h4>
<p>åŸå› å°±æ˜¯è¿™æ¬¡çš„æ¥å£ä½¿ç”¨ java spring mvc
å¹¶ä¸”åœ¨è¿™ä¸ªæ–¹æ³•ä¸Šä½¿ç”¨äº†æ³¨è§£ <code>@RequestParam</code></p>
<p>é‚£ä¹ˆè¿™ä¸ªæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Œè¿™ä¸ªæ˜¯åªèƒ½ä»è¯·æ±‚çš„åœ°å€ä¸­å–å‡ºå‚æ•°ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä» <code>username=admin&amp;password=admin</code> è¿™ç§å­—ç¬¦ä¸²ä¸­è§£æå‡ºå‚æ•°ã€‚</p>
<h4 id="2è¦ç‚¹2">2.è¦ç‚¹2</h4>
<p>æˆ‘ä»¬è¿˜å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™æ¬¡è¯·æ±‚çš„ Content-Typeï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>application/json;charset=UTF-8
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>1
</code></pre></div><p>å…³äºè¿™ä¸€ç‚¹éœ€è¦è¯´æ˜çš„æ˜¯ï¼š</p>
<p>1ã€axiosä¼šå¸®æˆ‘ä»¬ <strong>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</strong> ä»¥åŠ <strong>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</strong>
<img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20180323114752335" alt="img"></p>
<p>2ã€åœ¨ axios æºç ä¸­å‘ç°ä¸‹é¢è¿™æ®µå†…å®¹ï¼šï¼ˆå¾ˆå…³é”®ï¼‰
<img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20180323114936134" alt="img">
æˆ‘ä»¬çŸ¥é“åœ¨åš post è¯·æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„ä¼ å‚æ˜¯ <code>data: {...}</code> æˆ–è€…ç›´æ¥ <code>{...}</code> çš„å½¢å¼ä¼ é€’çš„ï¼Œå—¯ï¼Œå°±æ˜¯ä¸‹é¢è¿™ä¸¤ç§å½¢å¼</p>
<p>ã€ç¬¬ä¸€ç§å½¢å¼ã€‘
<img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20180323115625169" alt="img"></p>
<p>ã€ç¬¬äºŒç§å½¢å¼ã€‘
<img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20180323115718866" alt="img"></p>
<p>éå¸¸çš„åˆºæ¿€ï¼Œè¿™ä¸¤ç§å½¢å¼æ— ä¸€ä¾‹å¤–éƒ½è§¦å‘äº† axios æºç ä¸­ã€å¾ˆå…³é”®ã€‘çš„é‚£ä¸€æ®µä»£ç </p>
<h3 id="3é—®é¢˜åˆ†æ">3.é—®é¢˜åˆ†æ</h3>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çš„ <code>Content-Type</code> å˜æˆäº† <code>application/json;charset=utf-8</code>
ç„¶åï¼Œå› ä¸ºæˆ‘ä»¬çš„å‚æ•°æ˜¯ JSON å¯¹è±¡ï¼Œaxios å¸®æˆ‘ä»¬åšäº†ä¸€ä¸ª stringify çš„å¤„ç†ã€‚
è€Œä¸”æŸ¥é˜… axios æ–‡æ¡£å¯ä»¥çŸ¥é“ï¼šaxios ä½¿ç”¨ post å‘é€æ•°æ®æ—¶ï¼Œé»˜è®¤æ˜¯ç›´æ¥æŠŠ json æ”¾åˆ°è¯·æ±‚ä½“ä¸­æäº¤åˆ°åç«¯çš„ã€‚</p>
<p>é‚£ä¹ˆï¼Œè¿™å°±ä¸æˆ‘ä»¬æœåŠ¡ç«¯è¦æ±‚çš„ <code>'Content-Type': 'application/x-www-form-urlencoded'</code> ä»¥åŠ <code>@RequestParam</code> ä¸ç¬¦åˆã€‚</p>
<h3 id="4è§£å†³æ–¹æ¡ˆ">4.è§£å†³æ–¹æ¡ˆ</h3>
<h4 id="1è§£å†³æ–¹æ¡ˆä¸€">1.è§£å†³æ–¹æ¡ˆä¸€</h4>
<p>ã€ç”¨ URLSearchParams ä¼ é€’å‚æ•°ã€‘</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#8be9fd;font-style:italic">let</span> param <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> URLSearchParams()
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>param.append(<span style="color:#f1fa8c">&#39;username&#39;</span>, <span style="color:#f1fa8c">&#39;admin&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>param.append(<span style="color:#f1fa8c">&#39;pwd&#39;</span>, <span style="color:#f1fa8c">&#39;admin&#39;</span>)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>axios({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>	method<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;post&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>	url<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;/api/lockServer/search&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>	data<span style="color:#ff79c6">:</span> param
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9</span><span style="color:#bd93f9">12345678</span>
</code></pre></div><blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š <code>URLSearchParams</code> ä¸æ”¯æŒæ‰€æœ‰çš„æµè§ˆå™¨ï¼Œä½†æ˜¯æ€»ä½“çš„æ”¯æŒæƒ…å†µè¿˜æ˜¯ OK çš„ï¼Œæ‰€ä»¥ä¼˜å…ˆæ¨èè¿™ç§ç®€å•ç›´æ¥çš„è§£å†³æ–¹æ¡ˆ</p>
</blockquote>
<h4 id="2è§£å†³æ–¹æ¡ˆäºŒ">2.è§£å†³æ–¹æ¡ˆäºŒ</h4>
<p><em>ç½‘ä¸Šæœ‰å¾ˆå¤šæ–¹æ¡ˆè¯´ä½¿ç”¨</em>
<code>axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';</code>
æˆ–è€…
<code>{headers:{'Content-Type':'application/x-www-form-urlencoded'}}</code>
<em>æˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå…¶å®è¿™æ ·è¿˜æ˜¯ä¸è¡Œçš„</em>
ã€è¿˜éœ€è¦é¢å¤–çš„æ“ä½œï¼Œï¼ˆæˆ‘ä»¬è¦å°†å‚æ•°è½¬æ¢ä¸ºqueryå‚æ•°ï¼‰ã€‘
å¼•å…¥ qs ï¼Œè¿™ä¸ªåº“æ˜¯ axios é‡Œé¢åŒ…å«çš„ï¼Œä¸éœ€è¦å†ä¸‹è½½äº†ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> Qs from <span style="color:#f1fa8c">&#39;qs&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#8be9fd;font-style:italic">let</span> data <span style="color:#ff79c6">=</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>	<span style="color:#f1fa8c">&#34;username&#34;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;admin&#34;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>	<span style="color:#f1fa8c">&#34;pwd&#34;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#34;admin&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>axios({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>	headers<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>		<span style="color:#f1fa8c">&#39;deviceCode&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;A95ZEF1-47B5-AC90BF3&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>	},
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>	method<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;post&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>	url<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;/api/lockServer/search&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>	data<span style="color:#ff79c6">:</span> Qs.stringify(data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#bd93f9">1234567891011121314</span>
</code></pre></div><h4 id="3è§£å†³æ–¹æ¡ˆä¸‰">3.è§£å†³æ–¹æ¡ˆä¸‰</h4>
<p>æ—¢ç„¶ axios æºç ä¸­æœ‰é‚£ä¹ˆä¸€æ®µã€å¾ˆå…³é”®ã€‘çš„ä»£ç ï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹ <code>transformRequest</code> æ¥è¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚</p>
<p>åœ¨ axios çš„è¯·æ±‚é…ç½®é¡¹ä¸­ï¼Œæ˜¯æœ‰ <code>transformRequest</code> çš„é…ç½®çš„ï¼š
<img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/20180323153826276" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p>
<p>OKï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬çš„è¯·æ±‚å°±å¯ä»¥å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­äº†ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> Qs from <span style="color:#f1fa8c">&#39;qs&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>axios({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>	url<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;/api/lockServer/search&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>	method<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;post&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>	transformRequest<span style="color:#ff79c6">:</span> [<span style="color:#8be9fd;font-style:italic">function</span> (data) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>	    <span style="color:#6272a4">// å¯¹ data è¿›è¡Œä»»æ„è½¬æ¢å¤„ç†
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#6272a4"></span>	    <span style="color:#ff79c6">return</span> Qs.stringify(data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>    }],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>	headers<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>		<span style="color:#f1fa8c">&#39;deviceCode&#39;</span><span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;A95ZEF1-47B5-AC90BF3&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>	},
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>	data<span style="color:#ff79c6">:</span> {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>	    username<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;admin&#39;</span>,
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>		pwd<span style="color:#ff79c6">:</span> <span style="color:#f1fa8c">&#39;admin&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>	}
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#bd93f9">12345678910111213141516</span>
</code></pre></div><h4 id="4è§£å†³æ–¹æ¡ˆå››">4.è§£å†³æ–¹æ¡ˆå››</h4>
<p>ã€é‡å†™ä¸€ä¸ª axios å®ä¾‹ï¼Œé‡æ–°å®ç°å±äºæˆ‘ä»¬è‡ªå·±çš„ transformRequestã€‘</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">import</span> axios from <span style="color:#f1fa8c">&#39;axios&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#8be9fd;font-style:italic">let</span> instance <span style="color:#ff79c6">=</span> axios.create({
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>	transformRequest<span style="color:#ff79c6">:</span> [<span style="color:#8be9fd;font-style:italic">function</span> transformRequest(data, headers) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>	    normalizeHeaderName(headers, <span style="color:#f1fa8c">&#39;Content-Type&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>	    <span style="color:#ff79c6">if</span> (utils.isFormData(data) <span style="color:#ff79c6">||</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>	      utils.isArrayBuffer(data) <span style="color:#ff79c6">||</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>	      utils.isBuffer(data) <span style="color:#ff79c6">||</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>	      utils.isStream(data) <span style="color:#ff79c6">||</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>	      utils.isFile(data) <span style="color:#ff79c6">||</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>	      utils.isBlob(data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span>	    ) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>	      <span style="color:#ff79c6">return</span> data;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>	    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>	    <span style="color:#ff79c6">if</span> (utils.isArrayBufferView(data)) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>	      <span style="color:#ff79c6">return</span> data.buffer;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>	    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>	    <span style="color:#ff79c6">if</span> (utils.isURLSearchParams(data)) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>	      setContentTypeIfUnset(headers, <span style="color:#f1fa8c">&#39;application/x-www-form-urlencoded;charset=utf-8&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>	      <span style="color:#ff79c6">return</span> data.toString();
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>	    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>	    <span style="color:#6272a4">/*æ”¹äº†è¿™é‡Œ*/</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>	    <span style="color:#ff79c6">if</span> (utils.isObject(data)) {
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>	      setContentTypeIfUnset(headers, <span style="color:#f1fa8c">&#39;application/x-www-form-urlencoded;charset=utf-8&#39;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>	      <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#bd93f9">_</span>data <span style="color:#ff79c6">=</span> <span style="color:#8be9fd;font-style:italic">Object</span>.keys(data)
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>	      <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">encodeURI</span>(<span style="color:#bd93f9">_</span>data.map(name =&gt; <span style="color:#f1fa8c">`</span><span style="color:#f1fa8c">${</span>name<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">=</span><span style="color:#f1fa8c">${</span>data[name]<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">`</span>).join(<span style="color:#f1fa8c">&#39;&amp;&#39;</span>));
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>	    }
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>	    <span style="color:#ff79c6">return</span> data;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span>	}],
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span>})
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span style="color:#bd93f9">1234567891011121314151617181920212223242526272829</span>
</code></pre></div><h4 id="5è§£å†³æ–¹æ¡ˆäº”">5.è§£å†³æ–¹æ¡ˆäº”</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>axios.post(<span style="color:#f1fa8c">&#39;/api/lockServer/search&#39;</span>,<span style="color:#f1fa8c">&#34;userName=&#39;admin&#39;&amp;pwd=&#39;admin&#39;&#34;</span>);
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span style="color:#bd93f9">1</span>
</code></pre></div><h4 id="6è§£å†³æ–¹æ¡ˆå…­">6.è§£å†³æ–¹æ¡ˆå…­</h4>
<p>æˆ‘ä»¬çŸ¥é“ç°åœ¨æˆ‘ä»¬æœåŠ¡ç«¯åŒå­¦æ¥æ”¶å‚æ•°ç”¨çš„æ˜¯ <code>@RequestParam</code>ï¼ˆé€šè¿‡å­—ç¬¦ä¸²ä¸­è§£æå‡ºå‚æ•°ï¼‰
å…¶å®è¿˜æœ‰å¦ä¸€ç§æ˜¯ <code>@RequestBody</code>ï¼ˆä»è¯·æ±‚ä½“ä¸­è·å–å‚æ•°ï¼‰ã€‚</p>
<p>æˆ‘ä»¬è®©åç«¯çš„åŒå­¦æ”¹æˆ <code>@RequestBody</code> ä¸å°±å¯ä»¥äº†å—ã€‚</p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://gaoshanwomeng.github.io/%20categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></span>
        <span><a class="tag" href="https://gaoshanwomeng.github.io/%20tags/axios/">axios</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://gaoshanwomeng.github.io/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="back-top-btn">
            <i class="iconfont icon-top item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://gaoshanwomeng.github.io/post/linux-kwin%E6%B7%BB%E5%8A%A0%E7%AA%97%E5%8F%A3%E9%98%B4%E5%BD%B1/" data-tooltip="linux kwinæ·»åŠ çª—å£é˜´å½±">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://gaoshanwomeng.github.io/post/linux-%E8%87%AA%E5%88%B6%E7%99%BE%E5%BA%A6%E8%84%91%E5%9B%BE%E5%AE%A2%E6%88%B7%E7%AB%AF/" data-tooltip="linux è‡ªåˆ¶ç™¾åº¦è„‘å›¾å®¢æˆ·ç«¯">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover animated fadeInShow">
        <div class="search-container animated fadeInShow">
    <input type="search" class="docsearch-input search-input" placeholder="æœç´¢å…³é”®è¯" />
    <div  id="loading" class="loading-container">
        <span>æœç´¢ä¸­...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: (query) => {
            $('#loading').css('display', 'flex');
        },
        transformData: (tips) => {
            $('#loading').css('display', 'none');
        }
    })
</script>
    </div>
</body>



<script type="text/javascript" src="https://gaoshanwomeng.github.io/js/util.min.e37785245b366f4486c3d22c23a668fd200bd10cbd79afb965e19eeafcc3a5fbdf12bb6f9602f5b0914ddde2d27f4c685c02cfe4536349307b402b5c4940d579.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>