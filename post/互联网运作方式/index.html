<!DOCTYPE html>
<html lang="zh-cn" data-theme="light"><head>
    <meta name="google-site-verification" content="kw1N-Xm6qEr1c9PGuRd0U_T6DXkw_EHsLyz5LpuDDv8" />
    <meta name="msvalidate.01" content="EE98205D30806C22C519683EFC53E9BA" />
    <meta name="baidu-site-verification" content="iPC3wUcQLL" />
    <title>  互联网运作方式 </title>
    <meta charset="utf-8"><meta name="generator" content="Hugo 0.85.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
    <meta name="description" itemprop="description"
        content=" 互联网是运作方式 ">
    <meta name="keywords" itemprop="keywords"
        content=" [互联网 前端] ">
    <base href="https://gaoshanwomeng.github.io/">
    <link rel="shortcut icon" href="https://gaoshanwomeng.github.io/favicons//favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="https://gaoshanwomeng.github.io/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://gaoshanwomeng.github.io/favicons/favicon-16x16.png">
    <link rel="canonical" href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/">
    <link rel="stylesheet" type="text/css" href="https://at.alicdn.com/t/font_2450869_iypnqhtzjei.css">
    
    
    
    
    
    
    
    
    <link rel="stylesheet" href="https://gaoshanwomeng.github.io/css/style.min.94cd51a5470e0ea52a03e9c2b97fdb9f52cb1b4ddd550ef007998d4b4d25b8c9.css" integrity=""
        type="text/css">
</head><body>
<div class="main animated fadeInDown">
  <div class="toc sub-container">
    <div class="toc-header">
        <span>目录</span>
        <span id="read-percentage"></span>
    </div>
    <ul class="toc-h3"><li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#1%e4%b8%be%e4%be%8b" class="toc-link">1.举例</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#2tcpip" class="toc-link">2.TCP/IP</a>
                </li>
                
                        <ul class="toc-h4"><li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#1%e5%ae%9a%e4%b9%89" class="toc-link">1.定义</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#2%e7%bb%84%e6%88%90" class="toc-link">2.组成</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#3%e5%90%84%e5%b1%82%e4%b9%8b%e9%97%b4%e9%85%8d%e5%90%88" class="toc-link">3.各层之间配合</a>
                </li>
                
                        </ul><li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#3%e5%b9%bf%e4%b9%89%e4%b8%8a%e7%9a%84%e4%ba%92%e8%81%94%e7%bd%91" class="toc-link">3.广义上的互联网</a>
                </li>
                <li>
                    <a href="https://gaoshanwomeng.github.io/post/%E4%BA%92%E8%81%94%E7%BD%91%E8%BF%90%E4%BD%9C%E6%96%B9%E5%BC%8F/#4dns%e6%9c%8d%e5%8a%a1%e5%92%8c%e5%9f%9f%e5%90%8d" class="toc-link">4.DNS服务和域名</a>
                </li>
                </div><div class="single-post container">
    <div class="post">
      <div class="header">
        <span class="title">互联网运作方式</span>
        
        <div class="info">
          <span>📅 2020-08-02</span>
          <span>👦 Tomtom Young</span>
          <span>📖 2218字</span>
          <span>⏱ 5分钟</span>
        </div>
        
      </div>
      <div class="content markdown-body">
        <h3 id="1举例">1.举例</h3>
<p>我们以我们使用浏览器访问bilibili这个网站为例，来看一下我们是如何使用互联网来发送和接收数据的。</p>
<ol>
<li>
<p>当我的个人电脑接入互联网之后，我的电脑会得到一个编号用来标识我这台电脑的身份，这个编号地址叫做Internet Protocol Address，就是我们熟悉的ip。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_203537.png" alt=""></p>
</li>
<li>
<p>bilibili的服务器也会接入互联网，因此bilibili的服务器也有对应的ip地址，我们平时所说的访问某个网站，其实就是访问这个网站的服务器。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_203757.png" alt=""></p>
</li>
<li>
<p>我们想要通过访问index.html这个文件来获取bilibili的首页内容，那么这时候我们的本机称为客户端，bilibili的服务器称为服务端，这就构成了一个客户端服务端模型。常见的客户端有浏览器，电子邮件客户端，手机app和电上的应用程序，由此可见客户端是贴近我们用户的。服务端就是指在远程计算机上运行的应用程序。</p>
<p>客户端可以在需要时与服务端进行通信。比如这里我们要获取index.html，那么这个请求就会被转换为电子信号，通过网线，传送给远程的bilibili服务器。电子信号到达服务器端之后，会被转换为可以被计算机识别的文本信息，使服务器可以明白你的请求。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_204052.png" alt=""></p>
</li>
</ol>
<h3 id="2tcpip">2.TCP/IP</h3>
<p>通过上面的举例，我们可以知道，我们的客户端和服务端是通过电子信号的形式来进行信息的传递的，那么具体是怎么传递？答案是通过TCP/IP协议。</p>
<h4 id="1定义">1.定义</h4>
<p>TCP/IP协议族就是一种规范，它规定了计算机之间如何通过互联网进行通信。</p>
<p>互联网所有的传输都通过RCP/IP协议族来传输，TCP/IP是<strong>面向连接</strong>的<strong>可靠</strong>字节流服务协议</p>
<h4 id="2组成">2.组成</h4>
<p>网络协议通过分层来明确每一层的工作和职责，通过明确的接口来进行层之间的通信。TCP/IP协议族一共由四层构成：</p>
<ol>
<li>应用层：提供特定于应用程序的协议 HTTP(负责浏览器和网络服务器相互通信) FTP(负责文件传输) IMAP(负责电子邮件客户端检索邮件)。</li>
<li>传输控制层(TCP)：发送数据包到计算机上使用特定的端口号的应用程序。</li>
<li>网络层(IP)：使用IP地址将数据包发送到特定的计算机。</li>
<li>链路层：将二进制数据包与网络信号相互转 换。</li>
</ol>
<h4 id="3各层之间配合">3.各层之间配合</h4>
<p>我们继续以上面的举例来说明，各层之间是工作和协调配合的。</p>
<ol>
<li>
<p>我们要发送一个请求<code>get index.html</code>，这个请求在应用层被分解成很多数据包。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_213151.png" alt=""></p>
</li>
<li>
<p>然后通过应用层进入传输控制层(TCP)，每个数据包都会被分配一个端口号，这个端口号用来确定这个数据包到达目标服务器后，哪一个应用程序来接受我们的数据包。</p>
<p>TCP是一种面向连接的可靠字节流服务协议，这里就涉及到了TCP的三次握手，TCP必须经过三次握手之后才能建立连接，进行数据的交换，目标计算机收到数据包之后还会向发送方发送ack确认，保证发送成功，因此说TCP是一种可靠的协议。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_213508.png" alt=""></p>
</li>
<li>
<p>进入网络层(IP)后，每个数据包会被赋予目标计算机的ip地址。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_214021.png" alt=""></p>
<p>这里要多说一点的就是IP协议是一种不可靠的无连接协议，这种协议不关心数据包是否安全的到达了目的地，也不关心链接和端口号，IP只负责将数据包发送到目标计算机。因此我们通过IP发送过去的数据包有可能会乱序到达，还可能丢包，但是TCP和IP配合，就可以解决这些问题。</p>
<p>当数据包过大，在网络层会进行分包，分包后传输的链路不一样，到达的时间不一样，TCP会根据数据包上携带序列号来进行排序重组，如果发送方在一个特定时间内（也就是重试时间）没有接受到接收方的ack确认，会再次重新发送。</p>
<blockquote>
<p>这里还要说明一点就是IP和IP地址是不同的概念：</p>
<ol>
<li>
<p>Ip是一种协议</p>
<p>分为IPv4和IPv6两种标准 ：</p>
<p>IPv4 2^32</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_214646.png" alt=""></p>
<p>IPv6 2^128</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_214758.png" alt=""></p>
</li>
<li>
<p>IP地址是一串数字192.0.0.1</p>
</li>
</ol>
</blockquote>
</li>
<li>
<p>到达链路层，数据包被转换为电子信号，通过电缆传输。电缆的另一端的路由器将会检查数据包中的目标地址，确定将数据包发送到何处。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_214929.png" alt=""></p>
</li>
<li>
<p>数据包通过电缆到达服务器电脑上之后，就会从TCP/IP协议族的底部开始向上运行。我们在本机上给数据包添加的ip地址，端口号，都会被剥离，最终只得到一个数据包。</p>
<p>这样我们的一个请求就成功的传送到了服务器端，服务器上的应用程序会根据我们的请求作出相应的反映。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_215425.png" alt=""></p>
</li>
<li>
<p>根据我们请求，我们要获取<code>index.html</code>的数据，那么服务器也会将这些信息打包成数据包，通过刚才的一系列过程，将数据包传送到我们的电脑。这样我们就看到了bilibili的首页内容。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_215621.png" alt=""></p>
</li>
</ol>
<h3 id="3广义上的互联网">3.广义上的互联网</h3>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_215931.png" alt=""></p>
<ol>
<li>个人电脑：发出数字信号</li>
<li>猫(调制解调器)：将计算机发出的数字信号翻译成可沿普通电话线传送的模拟信号，在公共电话网络进行传输。</li>
<li>local ISP (internet service provider)互联网服务提供商，例如我们常见的移动联通电信。通过ISP来接入互联网。</li>
<li>regional ISP ISP主干网络，通过ISP主干网络传输到NSP。</li>
<li>NSP (网络服务提供商)，是一种大型网络,卖带宽给ISP。</li>
<li>NAP (网络访问点)，每个NSP连接到至少三个网络访问点，通过网络访问点来交换数据流量。</li>
<li>ISP NSP 所有网络提供都携带路由器，路由器是一种特殊的网络计算器，每个路由器有当前子网络ip的路由表，当底层向上层发送数据时候，找不到会依次向上找，可能由一个主干网络跳到另外一个主干网络。</li>
</ol>
<h3 id="4dns服务和域名">4.DNS服务和域名</h3>
<p>域名，就是给特定的ip起的别名，给ip地址取别名是为了让这个ip地址变得容易记住。那么我们怎么知道一个ip地址的域名是什么，这里就牵扯出了DNS(Domain Name Service)。</p>
<p>DNS是一个分布式数据库，存储了域名和IP的对应关系。</p>
<p>我们在浏览器中输入一个域名时，浏览器会先链接DNS服务器，获取域名对应的ip地址，然后在使用ip地址来发送数据包。</p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_221439.png" alt=""></p>
<p><img src="https://blogimg-1302307650.cos.ap-shanghai.myqcloud.com/Screenshot_20200802_221607.png" alt=""></p>

      </div>
      <div class="footer">
        <span><a class="category" href="https://gaoshanwomeng.github.io/%20categories/%E5%89%8D%E7%AB%AF/">前端</a></span>
        <span><a class="tag" href="https://gaoshanwomeng.github.io/%20tags/%E6%B5%8F%E8%A7%88%E5%99%A8/">浏览器</a></span>
        
      </div>
    </div>

    <ul class="menu">
    <li class="menu-item">
        <a href="https://gaoshanwomeng.github.io/" id="back-btn">
            <i class="iconfont icon-home item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="back-top-btn">
            <i class="iconfont icon-top item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="switch-btn">
            <i class="iconfont icon-switch item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        <a href="javascript:void(0);" id="search-btn">
            <i class="iconfont icon-search item-btn"></i>
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://gaoshanwomeng.github.io/post/docker%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" data-tooltip="docker基本操作">
            <i class="iconfont icon-left item-btn"></i>
            
        </a>
    </li>
    <li class="menu-item">
        
        <a class="" href="https://gaoshanwomeng.github.io/post/ts-%E5%AE%89%E8%A3%85%E5%92%8C%E9%85%8D%E7%BD%AE/" data-tooltip="ts 安装和配置">
            <i class="iconfont icon-right item-btn"></i>
            
        </a>
    </li>
</ul>

  </div>
</div>

<div class="cover animated fadeInShow">
        <div class="search-container animated fadeInShow">
    <input type="search" class="docsearch-input search-input" placeholder="搜索关键词" />
    <div  id="loading" class="loading-container">
        <span>搜索中...</span>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'f7f9aeb8485880cfd0e747129ea4ddf9',
        indexName: 'blogsearch',
        appId: 'SGIZDO9IMB',
        inputSelector: '.docsearch-input',
        debug: true,
        algoliaOptions: {
            hitsPerPage: 50
        },
        
        
        
        queryHook: (query) => {
            $('#loading').css('display', 'flex');
        },
        transformData: (tips) => {
            $('#loading').css('display', 'none');
        }
    })
</script>
    </div>
</body>



<script type="text/javascript" src="https://gaoshanwomeng.github.io/js/util.min.9d2fa749215ef78d508b6a6a374370dd0c897a436688df49a25abca28e8fd145d1dae787bd3cf69ffcaf64a67737f50e1aa17df9be4eddb776b39bdce4a2541f.js" integrity=""></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-168042857-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
</html>